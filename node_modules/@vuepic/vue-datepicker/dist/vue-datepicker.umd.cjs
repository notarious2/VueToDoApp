(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";const Se=(t,a)=>{const l=t.__vccOpts||t;for(const[n,u]of a)l[n]=u;return l},sn={},cn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},dn=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function un(t,a){return e.openBlock(),e.createElementBlock("svg",cn,dn)}const je=Se(sn,[["render",un]]),mn={},fn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},pn=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function yn(t,a){return e.openBlock(),e.createElementBlock("svg",fn,pn)}const hn=Se(mn,[["render",yn]]),gn={},kn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},wn=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function Cn(t,a){return e.openBlock(),e.createElementBlock("svg",kn,wn)}const Dt=Se(gn,[["render",Cn]]),bn={},Bn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Mn=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function Sn(t,a){return e.openBlock(),e.createElementBlock("svg",Bn,Mn)}const $t=Se(bn,[["render",Sn]]),Dn={},$n={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Vn=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function Nn(t,a){return e.openBlock(),e.createElementBlock("svg",$n,Vn)}const Vt=Se(Dn,[["render",Nn]]),Pn={},An={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Tn=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function En(t,a){return e.openBlock(),e.createElementBlock("svg",An,Tn)}const Nt=Se(Pn,[["render",En]]),Rn={},_n={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},On=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function In(t,a){return e.openBlock(),e.createElementBlock("svg",_n,On)}const Pt=Se(Rn,[["render",In]]),At=(t,a)=>{const l=s.parse(t,a.slice(0,t.length),new Date);return s.isValid(l)&&s.isDate(l)?l:null},tt=(t,a)=>{if(typeof a=="string")return At(t,a);if(Array.isArray(a)){let l=null;for(let n=0;n<a.length&&(l=At(t,a[n]),!l);n++);return l}return typeof a=="function"?a(t):null},fe=t=>{let a=new Date(JSON.parse(JSON.stringify(t)));return a=s.setHours(a,0),a=s.setMinutes(a,0),a=s.setSeconds(a,0),a=s.setMilliseconds(a,0),a},nt=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,ie=(t,a,l,n)=>{let u=t?new Date(t):new Date;return(a||a===0)&&(u=s.setHours(u,+a)),(l||l===0)&&(u=s.setMinutes(u,+l)),(n||n===0)&&(u=s.setSeconds(u,+n)),s.setMilliseconds(u,0)},Yn=t=>{const a=s.addMonths(t,1);return{month:s.getMonth(a),year:s.getYear(a)}},De=(t,a,l)=>{let n=t?new Date(t):new Date;return(a||a===0)&&(n=s.setMonth(n,a)),l&&(n=s.setYear(n,l)),n},Tt=(t,a)=>t?`HH:mm${a?":ss":""}`:`hh:mm${a?":ss":""} aa`,Et=(t,a,l,n,u,f,k,p)=>t||(n?"MM/yyyy":u?Tt(a,l):f?"MM/dd/yyyy":k?"yyyy":p?`MM/dd/yyyy, ${Tt(a,l)}`:"MM/dd/yyyy"),lt=t=>{const a=t||new Date;return{hours:s.getHours(a),minutes:s.getMinutes(a),seconds:s.getSeconds(a)}},We=t=>({month:s.getMonth(t),year:s.getYear(t)}),Rt=t=>Array.isArray(t)?[We(t[0]),t[1]?We(t[1]):null]:We(t),at=t=>Array.isArray(t)?[lt(t[0]),lt(t[1])]:lt(t),rt=(t,a,l)=>l?s.format(t,a,{locale:l}):s.format(t,a),Te=(t,a,l,n,u)=>Array.isArray(t)?`${rt(t[0],a,l)} ${u&&!t[1]?"":n||"-"} ${t[1]?rt(t[1],a,l):""}`:rt(t,a,l),re=(t,a)=>!t||!a?!1:s.isAfter(fe(t),fe(a)),ae=(t,a)=>!t||!a?!1:s.isBefore(fe(t),fe(a)),x=(t,a)=>!t||!a?!1:s.isEqual(fe(t),fe(a)),Kn=(t,a)=>s.add(s.set(new Date,t),a),vn=(t,a)=>s.sub(s.set(new Date,t),a),ot=t=>s.set(new Date,{hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),_t=t=>s.set(new Date,{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Ee=(t,a,l,n)=>{if(!t)return!0;if(n){const u=l==="max"?s.isBefore(t,a):s.isAfter(t,a),f={seconds:0,milliseconds:0};return u||s.isEqual(s.set(t,f),s.set(a,f))}return l==="max"?t.getTime()<=a.getTime():t.getTime()>=a.getTime()},st=(t,a,l,n,u)=>{let f=!0;if(!t)return!0;const k=!u&&!n?Array.isArray(t)?[t[0]?ot(t[0]):null,t[1]?ot(t[1]):null]:ot(t):t;if(a||n){const p=a?_t(a):new Date(n);Array.isArray(k)?f=Ee(k[0],p,"max",!!n)&&Ee(k[1],p,"max",!!n):f=Ee(k,p,"max",!!n)}if(l||u){const p=l?_t(l):new Date(u);Array.isArray(k)?f=Ee(k[0],p,"min",!!u)&&Ee(k[1],p,"min",!!u)&&f:f=Ee(k,p,"min",!!u)&&f}return f},Hn=(t,a,l)=>{let n=!0;return a&&l&&(n=re(new Date(t),new Date(a))&&ae(new Date(t),new Date(l))),a&&(n=re(new Date(t),new Date(a))),l&&(n=ae(new Date(t),new Date(l))),n},pe=t=>t instanceof Date?t:s.parseISO(t),it=(t,a)=>{if(a){const n=new Date().getTimezoneOffset()*6e4;return new Date(t.getTime()-n).toISOString()}const l=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(l).toISOString()},Ot=(t,a,l)=>t&&t[0]&&t[1]?re(l,t[0])&&ae(l,t[1]):t&&t[0]&&a?re(l,t[0])&&ae(l,a)||ae(l,t[0])&&re(l,a):!1,Ue=(t,a)=>{const l=s.startOfWeek(t,{weekStartsOn:a}),n=s.endOfWeek(t,{weekStartsOn:a});return[l,n]},It=(t,a)=>Array.isArray(a)?a.some(l=>x(pe(new Date(l)),pe(t))):a(t),Ln=(t,a,l,n,u,f,k,p)=>{const w=l?re(pe(t),pe(l)):!1,C=a?ae(pe(t),pe(a)):!1,A=It(t,n),O=(f.months.length?f.months.map(r=>+r):[]).includes(s.getMonth(t)),E=k.length?k.some(r=>+r===s.getDay(t)):!1,v=u.length?!u.some(r=>x(pe(r),pe(t))):!1,P=s.getYear(t),J=P<+p[0]||P>+p[1];return!(w||C||A||O||J||E||v)},Yt=(t,a,l,n,u,f,k)=>({validate:w=>Ln(w,t,a,l,n,u,f,k)}),ge=Symbol(),Ge=Symbol(),ct=Symbol(),Kt=Symbol(),vt=Symbol(),ke=Symbol(),dt={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1}},ut={range:{type:Boolean,default:!1},uid:{type:String,default:null}},Ht={enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1}},Lt={...Ht,fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1}},zt={name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null}},jt={minTime:{type:Object,default:null},maxTime:{type:Object,default:null}},mt={minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null}},Wt={selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},...jt},ft={monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1}},Ut={locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null}},Gt={...Lt,...Wt,...ft,...mt,...Ut,...ut,vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1}},zn={...zt,...dt,...Gt,multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10}},Xt={range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null}},qt={...ft,...Xt,vertical:{type:Boolean,default:!1},month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:1}},jn=["aria-label","aria-disabled","aria-readonly"],Wn={key:1,class:"dp__input_wrap"},Un=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Gn={key:2,class:"dp__input_icon"},Xn={key:4,class:"dp__clear_icon"},qn=e.defineComponent({__name:"DatepickerInput",props:{...zt,...dt,...ut,inputValue:{type:String,default:""},inline:{type:Boolean,default:!1},isMenuOpen:{type:Boolean,default:!1},pattern:{type:String,default:""}},emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate","toggle","focus-prev","focus","blur"],setup(t,{expose:a,emit:l}){const n=t,u=e.ref(),f=e.ref(null),k=e.ref(!1),p=e.inject(ge),w=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:k.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),C=i=>{var I;const{value:_}=i.target,{format:z,rangeSeparator:$}=n.textInputOptions;if(_!==""){if(((I=n.textInputOptions)==null?void 0:I.openMenu)&&!n.isMenuOpen&&l("open"),n.range){const[W,Z]=_.split(`${$}`);if(W&&Z){const G=tt(W.trim(),z||n.pattern),L=tt(Z.trim(),z||n.pattern);u.value=G&&L?[G,L]:null}}else u.value=tt(_,z||n.pattern);l("setInputDate",u.value)}else l("setInputDate",null),n.autoApply&&(l("setEmptyDate"),u.value=null);l("update:inputValue",_)},A=()=>{var i,_;((i=n.textInputOptions)==null?void 0:i.enterSubmit)&&nt(u.value)&&n.inputValue!==""?(l("setInputDate",u.value,!0),u.value=null):((_=n.textInputOptions)==null?void 0:_.enterSubmit)&&n.inputValue===""&&(u.value=null,l("clear"))},N=()=>{var i,_;((i=n.textInputOptions)==null?void 0:i.tabSubmit)&&nt(u.value)&&n.inputValue!==""?(l("setInputDate",u.value,!0),u.value=null):((_=n.textInputOptions)==null?void 0:_.tabSubmit)&&n.inputValue===""&&(u.value=null,l("clear"))},O=()=>{k.value=!0,l("focus")},E=i=>{var _;i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation(),n.textInput&&((_=n.textInputOptions)==null?void 0:_.openMenu)?n.isMenuOpen?n.textInputOptions.enterSubmit&&l("selectDate"):l("open"):n.textInput||l("toggle")},v=()=>{k.value=!1,n.isMenuOpen||l("blur"),n.autoApply&&n.textInput&&u.value&&(l("setInputDate",u.value),l("selectDate"),u.value=null)},P=()=>{l("clear")},J=i=>{n.textInput||i.preventDefault()};return a({focusInput:()=>{f.value&&f.value.focus({preventScroll:!0})}}),(i,_)=>(e.openBlock(),e.createElementBlock("div",{onClick:E,"aria-label":e.unref(p).input,role:"textbox","aria-multiline":"false","aria-disabled":i.disabled,"aria-readonly":i.readonly},[i.$slots.trigger&&!i.$slots["dp-input"]&&!t.inline?e.renderSlot(i.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!i.$slots.trigger&&(!t.inline||i.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",Wn,[i.$slots["dp-input"]&&!i.$slots.trigger&&!t.inline?e.renderSlot(i.$slots,"dp-input",{key:0,value:t.inputValue,onInput:C,onEnter:A,onTab:N,onClear:P}):e.createCommentVNode("",!0),i.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:f,id:i.uid?`dp-input-${i.uid}`:void 0,name:i.name,class:e.normalizeClass(e.unref(w)),inputmode:i.textInput?"text":"none",placeholder:i.placeholder,disabled:i.disabled,readonly:i.readonly,required:i.required,value:t.inputValue,autocomplete:i.autocomplete,onInput:C,onKeydown:[e.withKeys(E,["enter"]),e.withKeys(N,["tab"])],onBlur:v,onFocus:O,onKeypress:J},null,42,Un)),i.$slots["input-icon"]&&!i.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Gn,[e.renderSlot(i.$slots,"input-icon")])):e.createCommentVNode("",!0),!i.$slots["input-icon"]&&!i.hideInputIcon&&!i.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(je),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),i.$slots["clear-icon"]&&t.inputValue&&i.clearable&&!i.disabled&&!i.readonly?(e.openBlock(),e.createElementBlock("span",Xn,[e.renderSlot(i.$slots,"clear-icon",{clear:P})])):e.createCommentVNode("",!0),i.clearable&&!i.$slots["clear-icon"]&&t.inputValue&&!i.disabled&&!i.readonly?(e.openBlock(),e.createBlock(e.unref(hn),{key:5,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(P,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,jn))}}),Jn=t=>typeof t=="object",Jt=(t,a)=>a,Zn=t=>Array.isArray(t)&&t.length===2,Qn=t=>Array.isArray(t),Fn=t=>typeof t=="object",Ie=t=>Array.isArray(t),me=t=>Array.isArray(t),Xe=t=>Array.isArray(t)&&t.length===2,xn=(t,a)=>a?Array.isArray(t):Xe(t),el=t=>Array.isArray(t),tl=t=>typeof t=="string"||typeof t=="object"||typeof t=="number",Zt=t=>typeof t=="string",ee=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),pt=e.ref(null),qe=e.ref(!1),yt=e.ref(!1),ht=e.ref(!1),gt=e.ref(!1),oe=e.ref(0),ne=e.ref(0),we=()=>{const t=e.computed(()=>qe.value?[...ee.selectionGrid,ee.actionRow].filter(r=>r.length):yt.value?[...ee.timePicker[0],...ee.timePicker[1],gt.value?[]:[pt.value],ee.actionRow].filter(r=>r.length):ht.value?[...ee.monthPicker,ee.actionRow]:[ee.monthYear,...ee.calendar,ee.time,ee.actionRow].filter(r=>r.length)),a=r=>{oe.value=r?oe.value+1:oe.value-1;let i=null;t.value[ne.value]&&(i=t.value[ne.value][oe.value]),i||(oe.value=r?oe.value-1:oe.value+1)},l=r=>{if(ne.value===0&&!r||ne.value===t.value.length&&r)return;ne.value=r?ne.value+1:ne.value-1,t.value[ne.value]?t.value[ne.value]&&!t.value[ne.value][oe.value]&&oe.value!==0&&(oe.value=t.value[ne.value].length-1):ne.value=r?ne.value-1:ne.value+1},n=r=>{let i=null;t.value[ne.value]&&(i=t.value[ne.value][oe.value]),i?i.focus({preventScroll:!qe.value}):oe.value=r?oe.value-1:oe.value+1},u=()=>{a(!0),n(!0)},f=()=>{a(!1),n(!1)},k=()=>{l(!1),n(!0)},p=()=>{l(!0),n(!0)},w=(r,i)=>{ee[i]=r},C=(r,i)=>{ee[i]=r},A=()=>{oe.value=0,ne.value=0};return{buildMatrix:w,buildMultiLevelMatrix:C,setTimePickerBackRef:r=>{pt.value=r},setSelectionGrid:r=>{qe.value=r,A(),r||(ee.selectionGrid=[])},setTimePicker:(r,i=!1)=>{yt.value=r,gt.value=i,A(),r||(ee.timePicker[0]=[],ee.timePicker[1]=[])},setTimePickerElements:(r,i=0)=>{ee.timePicker[i]=r},arrowRight:u,arrowLeft:f,arrowUp:k,arrowDown:p,clearArrowNav:()=>{ee.monthYear=[],ee.calendar=[],ee.time=[],ee.actionRow=[],ee.selectionGrid=[],ee.timePicker[0]=[],ee.timePicker[1]=[],qe.value=!1,yt.value=!1,gt.value=!1,ht.value=!1,A(),pt.value=null},setMonthPicker:r=>{ht.value=r,A()}}},nl=(t,a,l)=>{const n=new Date(JSON.parse(JSON.stringify(t))),u=[];for(let f=0;f<7;f++){const k=s.addDays(n,f),p=s.getMonth(k)!==a;u.push({text:l&&p?"":k.getDate(),value:k,current:!p})}return u},ll=(t,a,l,n)=>{const u=[],f=new Date(a,t),k=new Date(a,t+1,0),p=s.startOfWeek(f,{weekStartsOn:l}),w=C=>{const A=nl(C,t,n);if(u.push({days:A}),!u[u.length-1].days.some(N=>x(fe(N.value),fe(k)))){const N=s.addDays(C,7);w(N)}};return w(p),u},al=(t,a=3)=>{const l=[];for(let n=0;n<t.length;n+=a)l.push([t[n],t[n+1],t[n+2]]);return l},rl=(t,a)=>{const l=[1,2,3,4,5,6,7].map(f=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${f}T00:00:00+00:00`)).slice(0,2)),n=l.slice(0,a),u=l.slice(a+1,l.length);return[l[a]].concat(...u).concat(...n)},ol=t=>{const a=[];for(let l=+t[0];l<=+t[1];l++)a.push({value:+l,text:`${l}`});return a},sl=(t,a)=>{const l=new Intl.DateTimeFormat(t,{month:a,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(u=>{const f=u<10?`0${u}`:u;return new Date(`2017-${f}-01T00:00:00+00:00`)}).map((u,f)=>({text:l.format(u),value:f}))},il=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],cl=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),dl=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),ul=t=>{function l(n){let u="";const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",k=f.length;for(let p=0;p<n;p++)u+=f.charAt(Math.floor(Math.random()*k));return u+t}return l(5)},le=t=>{var l;const a=e.unref(t);return(l=a==null?void 0:a.$el)!=null?l:a},ml=t=>Object.assign({type:"dot"},t),Qt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),fl=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month"},t),Ft=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,pl={class:"dp__selection_preview"},yl={class:"dp__action_buttons"},hl=["onKeydown"],gl=e.defineComponent({__name:"ActionRow",props:{...Wt,...mt,...jt,...ft,...Xt,inline:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},enableTimePicker:{type:Boolean,default:!0}},emits:["closePicker","selectDate","invalid-select"],setup(t,{emit:a}){const l=t,{buildMatrix:n}=we(),u=e.inject(vt),f=e.inject(ke),k=e.ref(null),p=e.ref(null);e.onMounted(()=>{f!=null&&f.value&&n([le(k),le(p)],"actionRow")});const w=e.computed(()=>l.range&&!l.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),C=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!A.value||!N.value||!w.value})),A=e.computed(()=>!l.enableTimePicker||l.ignoreTimeValidation?!0:st(l.internalModelValue,l.maxTime,l.minTime,l.maxDate,l.minDate)),N=e.computed(()=>l.monthPicker?Hn(l.internalModelValue,l.minDate,l.maxDate):!0),O=P=>Te(P,l.previewFormat,u==null?void 0:u.value),E=e.computed(()=>!l.internalModelValue||!l.menuMount?"":typeof l.previewFormat=="string"?Ie(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?l.multiCalendars>0?`${O(l.internalModelValue[0])} - ${O(l.internalModelValue[1])}`:[O(l.internalModelValue[0]),O(l.internalModelValue[1])]:l.multiDates?l.internalModelValue.map(P=>`${O(P)}`):l.modelAuto?`${O(l.internalModelValue[0])}`:`${O(l.internalModelValue[0])} -`:Te(l.internalModelValue,l.previewFormat,u==null?void 0:u.value):l.timePicker?l.previewFormat(at(l.internalModelValue)):l.monthPicker?l.previewFormat(We(l.internalModelValue)):l.previewFormat(l.internalModelValue)),v=()=>{A.value&&N.value&&w.value?a("selectDate"):a("invalid-select")};return(P,J)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[e.createElementVNode("div",pl,[P.$slots["action-preview"]?e.renderSlot(P.$slots,"action-preview",{key:0,value:P.internalModelValue}):e.createCommentVNode("",!0),P.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(E))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(E)),1)],64)),Array.isArray(e.unref(E))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(E),(r,i)=>(e.openBlock(),e.createElementBlock("div",{key:i},e.toDisplayString(r),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",yl,[P.$slots["action-select"]?e.renderSlot(P.$slots,"action-select",{key:0,value:P.internalModelValue}):e.createCommentVNode("",!0),P.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:k,tabindex:"0",onClick:J[0]||(J[0]=r=>P.$emit("closePicker")),onKeydown:[J[1]||(J[1]=e.withKeys(r=>P.$emit("closePicker"),["enter"])),J[2]||(J[2]=e.withKeys(r=>P.$emit("closePicker"),["space"]))]},e.toDisplayString(P.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(C)),tabindex:"0",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,ref_key:"selectButtonRef",ref:p},e.toDisplayString(P.selectText),43,hl)],64))])],4))}}),kl=["aria-label"],wl={class:"dp__calendar_header",role:"row"},Cl={key:0,class:"dp__calendar_header_item",role:"gridcell"},bl=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Bl=["aria-label"],Ml={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Sl={class:"dp__cell_inner"},Dl=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],$l=["innerHTML"],Vl={key:1},Nl=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),Pl=e.defineComponent({__name:"Calendar",props:{...qt,...Ut,mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},modeHeight:{type:[Number,String],default:255},specificMode:{type:Boolean,default:!1}},emits:["selectDate","setHoverDate","handleScroll","mount","handleSwipe","handleSpace"],setup(t,{expose:a,emit:l}){const n=t,u=e.ref(null),f=e.ref({bottom:"",left:"",transform:""}),k=e.ref([]),p=e.ref(null),w=e.ref(!0),C=e.inject(Ge),A=e.inject(ge),N=e.inject(ke),O=e.ref(""),E=e.ref({startX:0,endX:0,startY:0,endY:0}),v=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):rl(n.locale,+n.weekStart)),{buildMultiLevelMatrix:P}=we();e.onMounted(()=>{l("mount",{cmp:"calendar",refs:k}),n.noSwipe||p.value&&(p.value.addEventListener("touchstart",Z,{passive:!1}),p.value.addEventListener("touchend",G,{passive:!1}),p.value.addEventListener("touchmove",L,{passive:!1})),n.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",c,{passive:!1})});const J=(y,h)=>{if(C!=null&&C.value){const D=fe(De(new Date,n.month,n.year));O.value=re(fe(De(new Date,y,h)),D)?C.value[n.vertical?"vNext":"next"]:C.value[n.vertical?"vPrevious":"previous"],w.value=!1,e.nextTick(()=>{w.value=!0})}},r=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),i=e.computed(()=>y=>{const h=ml(y);return{dp__marker_dot:h.type==="dot",dp__marker_line:h.type==="line"}}),_=e.computed(()=>y=>x(y,u.value)),z=e.computed(()=>({dp__calendar:!0,dp__calendar_next:n.multiCalendars>0&&n.instance!==0})),$=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:null),I=(y,h,D)=>{var H,Y;if(l("setHoverDate",y),(Y=(H=y.marker)==null?void 0:H.tooltip)!=null&&Y.length){const X=le(k.value[h][D]);if(X){const{width:Q,height:g}=X.getBoundingClientRect();f.value={bottom:`${g}px`,left:`${Q/2}px`,transform:"translateX(-50%)"},u.value=y.value}}},W=()=>{u.value=null},Z=y=>{E.value.startX=y.changedTouches[0].screenX,E.value.startY=y.changedTouches[0].screenY},G=y=>{E.value.endX=y.changedTouches[0].screenX,E.value.endY=y.changedTouches[0].screenY,M()},L=y=>{y.preventDefault()},M=()=>{const y=n.vertical?"Y":"X";Math.abs(E.value[`start${y}`]-E.value[`end${y}`])>10&&l("handleSwipe",E.value[`start${y}`]>E.value[`end${y}`]?"right":"left")},B=(y,h,D)=>{y&&(Array.isArray(k.value[h])?k.value[h][D]=y:k.value[h]=[y]),N!=null&&N.value&&P(k.value,"calendar")},c=y=>{n.monthChangeOnScroll&&(y.preventDefault(),l("handleScroll",y))};return a({triggerTransition:J}),(y,h)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(z))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref($))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:p,class:e.normalizeClass(e.unref(r)),role:"grid","aria-label":e.unref(A).calendarWrap},[e.createElementVNode("div",wl,[y.weekNumbers?(e.openBlock(),e.createElementBlock("div",Cl,e.toDisplayString(y.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(D,H)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:H},[y.$slots["calendar-header"]?e.renderSlot(y.$slots,"calendar-header",{key:0,day:D,index:H}):e.createCommentVNode("",!0),y.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(D),1)],64))]))),128))]),bl,e.createVNode(e.Transition,{name:O.value,css:!!e.unref(C)},{default:e.withCtx(()=>[w.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":e.unref(A).calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(D,H)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:H},[y.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ml,[e.createElementVNode("div",Sl,e.toDisplayString(t.getWeekNum(D.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.days,(Y,X)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:Q=>B(Q,H,X),key:X+H,"aria-selected":Y.classData.dp__active_date||Y.classData.dp__range_start||Y.classData.dp__range_start,"aria-disabled":Y.classData.dp__cell_disabled,tabindex:"0",onClick:e.withModifiers(Q=>y.$emit("selectDate",Y),["stop","prevent"]),onKeydown:[e.withKeys(Q=>y.$emit("selectDate",Y),["enter"]),e.withKeys(Q=>y.$emit("handleSpace",Y),["space"])],onMouseover:Q=>I(Y,H,X),onMouseleave:W},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",Y.classData])},[y.$slots.day?e.renderSlot(y.$slots,"day",{key:0,day:+Y.text,date:Y.value}):e.createCommentVNode("",!0),y.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Y.text),1)],64)),Y.marker?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(i)(Y.marker)),style:e.normalizeStyle(Y.marker.color?{backgroundColor:Y.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(_)(Y.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(f.value)},[e.createElementVNode("div",{class:"dp__tooltip_content",onClick:h[0]||(h[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Y.marker.tooltip,(Q,g)=>(e.openBlock(),e.createElementBlock("div",{key:g,class:"dp__tooltip_text"},[y.$slots["marker-tooltip"]?e.renderSlot(y.$slots,"marker-tooltip",{key:0,tooltop:Q,day:Y.value}):e.createCommentVNode("",!0),y.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(Q.color?{backgroundColor:Q.color}:{})},null,4),Q.html?(e.openBlock(),e.createElementBlock("div",{key:0,innerHTML:Q.html},null,8,$l)):(e.openBlock(),e.createElementBlock("div",Vl,e.toDisplayString(Q.text),1))],64))]))),128)),Nl])],4)):e.createCommentVNode("",!0)],2)],40,Dl))),128))]))),128))],8,Bl)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],10,kl))],4)],2))}}),Al=["aria-label","aria-disabled"],kt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","setRef"],setup(t,{emit:a}){const l=e.ref(null);return e.onMounted(()=>a("setRef",l)),(n,u)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:u[0]||(u[0]=f=>n.$emit("activate")),onKeydown:[u[1]||(u[1]=e.withKeys(f=>n.$emit("activate"),["enter"])),u[2]||(u[2]=e.withKeys(f=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:l},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Al))}}),Tl=["onKeydown"],El={class:"dp__selection_grid_header"},Rl=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],_l=["aria-label","onKeydown"],Ye=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0}},emits:["update:modelValue","selected","toggle","reset-flow"],setup(t,{expose:a,emit:l}){const n=t,u=e.ref(!1),f=e.ref(null),k=e.ref(null),p=e.ref([]),w=e.inject(ct,!1),C=e.inject(Kt,e.ref(!1)),A=e.inject(ge),N=e.inject(ke),O=e.ref(),E=e.ref(),{setSelectionGrid:v,buildMultiLevelMatrix:P,setMonthPicker:J}=we();e.onBeforeUpdate(()=>{f.value=null}),e.onMounted(()=>{e.nextTick().then(()=>G()),i(),r(!0)}),e.onUnmounted(()=>r(!1));const r=h=>{var D;N!=null&&N.value&&((D=n.headerRefs)!=null&&D.length?J(h):v(h))},i=()=>{const h=le(k);h&&(C.value||h.focus({preventScroll:!0}),u.value=h.clientHeight<h.scrollHeight)},_=e.computed(()=>({dp__overlay:!0})),z=e.computed(()=>({dp__overlay_col:!0})),$=e.computed(()=>n.items.map(h=>h.filter(D=>D).map(D=>{var X,Q,g;const H=n.disabledValues.some(V=>V===D.value)||Z(D.value),Y=(X=n.multiModelValue)!=null&&X.length?(Q=n.multiModelValue)==null?void 0:Q.some(V=>x(V,s.setYear(n.monthPicker?s.setMonth(new Date,D.value):new Date,n.monthPicker?n.year:D.value))):n.skipActive?!1:D.value===n.modelValue;return{...D,className:{dp__overlay_cell_active:Y,dp__overlay_cell:!Y,dp__overlay_cell_disabled:H,dp__overlay_cell_active_disabled:H&&Y,dp__overlay_cell_pad:!0,dp__cell_in_between:(g=n.multiModelValue)!=null&&g.length?M(D.value):!1}}}))),I=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:u.value,dp__button_bottom:w})),W=e.computed(()=>{var h,D;return{dp__overlay_container:!0,dp__container_flex:((h=n.items)==null?void 0:h.length)<=6,dp__container_block:((D=n.items)==null?void 0:D.length)>6}}),Z=h=>{const D=n.maxValue||n.maxValue===0,H=n.minValue||n.minValue===0;return!D&&!H?!1:D&&H?+h>+n.maxValue||+h<+n.minValue:D?+h>+n.maxValue:H?+h<+n.minValue:!1},G=()=>{const h=le(f);if(h){const D=le(k);D&&(D.scrollTop=h.offsetTop-D.offsetTop-(D.getBoundingClientRect().height/2-h.getBoundingClientRect().height))}},L=h=>{!n.disabledValues.some(D=>D===h)&&!Z(h)&&(l("update:modelValue",h),l("selected"))},M=h=>{const D=n.monthPicker?n.year:h;return Ot(n.multiModelValue,s.setYear(n.monthPicker?s.setMonth(new Date,O.value||0):new Date,n.monthPicker?D:O.value||D),s.setYear(n.monthPicker?s.setMonth(new Date,h):new Date,D))},B=()=>{l("toggle"),l("reset-flow")},c=()=>{n.escClose&&B()},y=(h,D,H,Y)=>{var X,Q;if(h&&(D.value===+n.modelValue&&!n.disabledValues.includes(D.value)&&(f.value=h),N!=null&&N.value)){Array.isArray(p.value[H])?p.value[H][Y]=h:p.value[H]=[h];const g=(X=n.headerRefs)!=null&&X.length?[n.headerRefs].concat(p.value):p.value.concat([n.skipButtonRef?[]:[E.value]]);P(g,(Q=n.headerRefs)!=null&&Q.length?"monthPicker":"selectionGrid")}};return a({focusGrid:i}),(h,D)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:k,class:e.normalizeClass(e.unref(_)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(c,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(W)),role:"grid"},[e.createElementVNode("div",El,[e.renderSlot(h.$slots,"header")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref($),(H,Y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:e.unref(ul)(Y),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H,(X,Q)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(z)),key:X.value,"aria-selected":X.value===t.modelValue&&!t.disabledValues.includes(X.value),"aria-disabled":X.className.dp__overlay_cell_disabled,ref_for:!0,ref:g=>y(g,X,Y,Q),tabindex:"0",onClick:g=>L(X.value),onKeydown:[e.withKeys(g=>L(X.value),["enter"]),e.withKeys(g=>L(X.value),["space"])],onMouseover:g=>O.value=X.value},[e.createElementVNode("div",{class:e.normalizeClass(X.className)},[h.$slots.item?e.renderSlot(h.$slots,"item",{key:0,item:X}):e.createCommentVNode("",!0),h.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(X.text),1)],64))],2)],42,Rl))),128))]))),128)),h.$slots["button-icon"]?(e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":e.unref(A).toggleOverlay,class:e.normalizeClass(e.unref(I)),tabindex:"0",ref_key:"toggleButton",ref:E,onClick:B,onKeydown:e.withKeys(B,["enter"])},[e.renderSlot(h.$slots,"button-icon")],42,_l)):e.createCommentVNode("",!0)],2)],42,Tl))}}),Je=()=>{const t=e.inject(Ge);return{transitionName:e.computed(()=>l=>t!=null&&t.value?l?t.value.open:t.value.close:""),showTransition:!!(t!=null&&t.value)}},Ol=["aria-label"],xt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0}},emits:["update:model-value","toggle","setRef"],setup(t,{emit:a}){const{transitionName:l,showTransition:n}=Je(),u=e.ref(null);return e.onMounted(()=>a("setRef",u)),(f,k)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:k[0]||(k[0]=p=>f.$emit("toggle")),onKeydown:[k[1]||(k[1]=e.withKeys(p=>f.$emit("toggle"),["enter"])),k[2]||(k[2]=e.withKeys(p=>f.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:u},[e.renderSlot(f.$slots,"default")],40,Ol),e.createVNode(e.Transition,{name:e.unref(l)(t.showSelectionGrid),css:e.unref(n)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose},{"header-refs":[],"onUpdate:modelValue":k[3]||(k[3]=p=>f.$emit("update:model-value",p)),onToggle:k[4]||(k[4]=p=>f.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(je),{key:1}))]),_:2},[f.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:p})=>[e.renderSlot(f.$slots,t.slotName,{item:p})]),key:"0"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Ze=(t,a,l)=>[s.set(new Date(t),{date:1}),s.set(new Date,{month:a,year:l,date:1})],wt=(t,a,l)=>ae(...Ze(t,a,l))||x(...Ze(t,a,l)),Ct=(t,a,l)=>re(...Ze(t,a,l))||x(...Ze(t,a,l)),en=(t,a,l,n,u,f)=>{let k=!1;return f?t&&a?(a&&u&&Ct(a,l,n)&&(k=!0),t&&!u&&wt(t,l,n)&&(k=!0)):(t&&wt(t,l,n)||a&&Ct(a,l,n))&&(k=!0):k=!0,k},Il=(t,a)=>{const l=(p,w)=>{let C=p;return t.filters.months.includes(s.getMonth(C))?(C=w?s.addMonths(p,1):s.subMonths(p,1),l(C,w)):C},n=(p,w)=>{let C=p;return t.filters.years.includes(s.getYear(C))?(C=w?s.addYears(p,1):s.subYears(p,1),n(C,w)):C},u=p=>{const w=s.set(new Date,{month:t.month,year:t.year});let C=p?s.addMonths(w,1):s.subMonths(w,1),A=s.getMonth(C),N=s.getYear(C);t.filters.months.includes(A)&&(C=l(C,p),A=s.getMonth(C),N=s.getYear(C)),t.filters.years.includes(N)&&(C=n(C,p),N=s.getYear(C)),en(t.minDate,t.maxDate,A,N,p,t.preventMinMaxNavigation)&&f(A,N)},f=(p,w)=>{a("update-month-year",{month:p,year:w})},k=e.computed(()=>p=>{if(!t.preventMinMaxNavigation||p&&!t.maxDate||!p&&!t.minDate)return!1;const w=s.set(new Date,{month:t.month,year:t.year}),C=p?s.addMonths(w,1):s.subMonths(w,1),A=[s.getMonth(C),s.getYear(C)];return p?!Ct(t.maxDate,...A):!wt(t.minDate,...A)});return{handleMonthYearChange:u,isDisabled:k}},Yl={class:"dp__month_year_row"},Kl={class:"dp__month_picker_header"},vl=["aria-label"],Hl=["aria-label","onKeydown"],Ll=["aria-label"],zl=e.defineComponent({__name:"MonthYearPicker",props:{...qt,...mt,preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},multiCalendarsSolo:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0}},emits:["update-month-year","monthYearSelect","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,{transitionName:u,showTransition:f}=Je(),{buildMatrix:k}=we(),p=e.ref(!1),w=e.ref(!1),C=e.ref([null,null,null,null]),A=e.ref(null),N=e.ref(null),O=e.ref(null),E=e.inject(ge),v=e.inject(ke),{handleMonthYearChange:P,isDisabled:J}=Il(n,l);e.onMounted(()=>{l("mount")});const r=g=>({get:()=>n[g],set:V=>{const T=g==="month"?"year":"month";l("update-month-year",{[g]:V,[T]:n[T]}),l("monthYearSelect",g==="year"),g==="month"?D(!0):H(!0)}}),i=e.computed(r("month")),_=e.computed(r("year")),z=e.computed(()=>g=>{const V=g==="month";return{showSelectionGrid:(V?p:w).value,items:(V?B:c).value,disabledValues:n.filters[V?"months":"years"],minValue:(V?W:$).value,maxValue:(V?Z:I).value,headerRefs:V&&n.monthPicker?[A.value,N.value,O.value]:[],escClose:n.escClose}}),$=e.computed(()=>n.minDate?s.getYear(new Date(n.minDate)):null),I=e.computed(()=>n.maxDate?s.getYear(new Date(n.maxDate)):null),W=e.computed(()=>{if(n.minDate&&$.value){if($.value>n.year)return 12;if($.value===n.year)return s.getMonth(new Date(n.minDate))}return null}),Z=e.computed(()=>n.maxDate&&I.value?I.value<n.year?-1:I.value===n.year?s.getMonth(new Date(n.maxDate)):null:null),G=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),L=(g,V=!1)=>{const T=[];for(let ue=0;ue<g.length;ue+=3){const ye=[g[ue],g[ue+1],g[ue+2]];T.push(V?ye.reverse():ye)}return V?T.reverse():T},M=e.computed(()=>{const g=n.months.find(V=>V.value===n.month);return g||{text:"",value:0}}),B=e.computed(()=>L(n.months)),c=e.computed(()=>L(n.years,n.reverseYears)),y=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),h=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===n.multiCalendars-1:!0),D=(g=!1)=>{Y(g),p.value=!p.value,p.value||l("overlay-closed")},H=(g=!1)=>{Y(g),w.value=!w.value,w.value||l("overlay-closed")},Y=g=>{g||l("reset-flow")},X=(g=!1)=>{l("update-month-year",{year:g?n.year+1:n.year-1,month:n.month,fromNav:!0})},Q=(g,V)=>{v!=null&&v.value&&(C.value[V]=le(g),k(C.value,"monthYear"))};return a({toggleMonthPicker:D,toggleYearPicker:H}),(g,V)=>(e.openBlock(),e.createElementBlock("div",Yl,[!g.monthPicker&&!t.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(y)&&!g.vertical?(e.openBlock(),e.createBlock(kt,{key:0,"aria-label":e.unref(E).prevMonth,disabled:e.unref(J)(!1),onActivate:V[0]||(V[0]=T=>e.unref(P)(!1)),onSetRef:V[1]||(V[1]=T=>Q(T,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(xt,e.mergeProps({"aria-label":e.unref(E).openMonthsOverlay,"slot-name":"month-overlay",modelValue:e.unref(i),"onUpdate:modelValue":V[2]||(V[2]=T=>e.isRef(i)?i.value=T:null)},e.unref(z)("month"),{onToggle:D,onSetRef:V[3]||(V[3]=T=>Q(T,1))}),e.createSlots({default:e.withCtx(()=>[g.$slots.month?e.renderSlot(g.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(M)))):e.createCommentVNode("",!0),g.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(M).text),1)],64))]),_:2},[g.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"calendar-icon")]),key:"0"}:void 0,g.$slots["month-overlay"]?{name:"month-overlay",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"month-overlay",{text:T.text,value:T.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(xt,e.mergeProps({"aria-label":e.unref(E).openYearsOverlay,"slot-name":"year-overlay",modelValue:e.unref(_),"onUpdate:modelValue":V[4]||(V[4]=T=>e.isRef(_)?_.value=T:null)},e.unref(z)("year"),{onToggle:H,onSetRef:V[5]||(V[5]=T=>Q(T,2))}),e.createSlots({default:e.withCtx(()=>[g.$slots.year?e.renderSlot(g.$slots,"year",{key:0,year:g.year}):e.createCommentVNode("",!0),g.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.year),1)],64))]),_:2},[g.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"calendar-icon")]),key:"0"}:void 0,g.$slots["year-overlay"]?{name:"year-overlay",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"year-overlay",{text:T.text,value:T.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),e.unref(y)&&g.vertical?(e.openBlock(),e.createBlock(kt,{key:1,"aria-label":e.unref(E).prevMonth,disabled:e.unref(J)(!1),onActivate:V[6]||(V[6]=T=>e.unref(P)(!1))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(h)?(e.openBlock(),e.createBlock(kt,{key:2,disabled:e.unref(J)(!0),"aria-label":e.unref(E).nextMonth,onActivate:V[7]||(V[7]=T=>e.unref(P)(!0)),ref:"rightIcon",onSetRef:V[8]||(V[8]=T=>Q(T,3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(Pt):e.unref($t)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),g.monthPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:1},e.unref(z)("month"),{"skip-active":n.range,year:g.year,"multi-model-value":e.unref(G),"month-picker":"",modelValue:e.unref(i),"onUpdate:modelValue":V[15]||(V[15]=T=>e.isRef(i)?i.value=T:null),onToggle:D,onSelected:V[16]||(V[16]=T=>g.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>[e.createElementVNode("div",Kl,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:A,onClick:V[9]||(V[9]=T=>X(!1)),onKeydown:V[10]||(V[10]=e.withKeys(T=>X(!1),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(E).prevMonth},[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],8,vl)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:N,"aria-label":e.unref(E).openYearsOverlay,tabindex:"0",onClick:H,onKeydown:e.withKeys(H,["enter"])},[g.$slots.year?e.renderSlot(g.$slots,"year",{key:0,year:g.year}):e.createCommentVNode("",!0),g.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.year),1)],64))],40,Hl),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:O,onClick:V[11]||(V[11]=T=>X(!0)),onKeydown:V[12]||(V[12]=e.withKeys(T=>X(!0),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(E).nextMonth},[g.$slots["arrow-right"]?e.renderSlot(g.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],8,Ll)],544)]),e.createVNode(e.Transition,{name:e.unref(u)(w.value),css:e.unref(f)},{default:e.withCtx(()=>[w.value?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},e.unref(z)("year"),{modelValue:e.unref(_),"onUpdate:modelValue":V[13]||(V[13]=T=>e.isRef(_)?_.value=T:null),onToggle:H,onSelected:V[14]||(V[14]=T=>g.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(je),{key:1}))]),_:2},[g.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"year-overlay",{text:T.text,value:T.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:2},[g.$slots["month-overlay"]?{name:"item",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"month-overlay",{text:T.text,value:T.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),t.yearPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:2},e.unref(z)("year"),{modelValue:e.unref(_),"onUpdate:modelValue":V[17]||(V[17]=T=>e.isRef(_)?_.value=T:null),"multi-model-value":e.unref(G),"skip-active":n.range,"skip-button-ref":"","year-picker":"",onToggle:H,onSelected:V[18]||(V[18]=T=>g.$emit("overlay-closed"))}),e.createSlots({_:2},[g.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"year-overlay",{text:T.text,value:T.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)]))}}),jl={key:0,class:"dp__time_input"},Wl=["aria-label","onKeydown","onClick"],Ul=["aria-label","onKeydown","onClick"],Gl=["aria-label","onKeydown","onClick"],Xl={key:0},ql=["aria-label","onKeydown"],Jl=e.defineComponent({__name:"TimeInput",props:{...Ht,hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},filters:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},escClose:{type:Boolean,default:!0}},emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,u=e.reactive({hours:!1,minutes:!1,seconds:!1}),f=e.ref("AM"),k=e.ref(null),p=e.inject(ge),w=e.inject(ke),C=e.ref([]),{transitionName:A,showTransition:N}=Je(),{setTimePickerElements:O,setTimePickerBackRef:E}=we();e.onMounted(()=>{l("mounted")});const v=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),P=e.computed(()=>{const M=[{type:"hours"},"separator",{type:"minutes"}];return n.enableSeconds?M.concat(["separator",{type:"seconds"}]):M}),J=e.computed(()=>P.value.filter(M=>typeof M!="string")),r=e.computed(()=>M=>{if(M==="hours"){const B=I(n.hours);return{text:B<10?`0${B}`:`${B}`,value:B}}return{text:n[M]<10?`0${n[M]}`:`${n[M]}`,value:n[M]}}),i=M=>{const B=M==="hours"?n.is24?24:12:60,c=+n[`${M}GridIncrement`],y=[];for(let h=0;h<B;h+=c)y.push({value:h,text:h<10?`0${h}`:`${h}`});return al(y)},_=M=>n[`no${M[0].toUpperCase()+M.slice(1)}Overlay`],z=M=>{_(M)||(u[M]=!u[M],u[M]||l("overlay-closed"))},$=(M,B=!0)=>{const c=M==="hours"?s.getHours:M==="minutes"?s.getMinutes:s.getSeconds,y=B?Kn:vn;l(`update:${M}`,c(y({[M]:+n[M]},{[M]:+n[`${M}Increment`]})))},I=M=>n.is24?M:(M>=12?f.value="PM":f.value="AM",il(M)),W=()=>{f.value==="PM"?(f.value="AM",l("update:hours",n.hours-12)):(f.value="PM",l("update:hours",n.hours+12))},Z=M=>{u[M]=!0},G=(M,B,c)=>{if(M&&(w==null?void 0:w.value)){Array.isArray(C.value[B])?C.value[B][c]=M:C.value[B]=[M];const y=C.value.reduce((h,D)=>D.map((H,Y)=>[...h[Y]||[],D[Y]]),[]);E(n.closeTimePickerBtn),k.value&&(y[1]=y[1].concat(k.value)),O(y,n.order)}},L=(M,B)=>M==="hours"&&!n.is24?l(`update:${M}`,f.value==="PM"?B+12:B):l(`update:${M}`,B);return a({openChildCmp:Z}),(M,B)=>t.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",jl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(P),(c,y)=>(e.openBlock(),e.createElementBlock("div",{key:y,class:e.normalizeClass(e.unref(v))},[c==="separator"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(p).incrementValue(c.type),tabindex:"0",onKeydown:[e.withKeys(h=>$(c.type),["enter"]),e.withKeys(h=>$(c.type),["space"])],onClick:h=>$(c.type),ref_for:!0,ref:h=>G(h,y,0)},[M.$slots["arrow-up"]?e.renderSlot(M.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),M.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))],40,Wl),e.createElementVNode("div",{role:"button","aria-label":e.unref(p).openTpOverlay(c.type),class:e.normalizeClass(_(c.type)?"":"dp__time_display"),tabindex:"0",onKeydown:[e.withKeys(h=>z(c.type),["enter"]),e.withKeys(h=>z(c.type),["space"])],onClick:h=>z(c.type),ref_for:!0,ref:h=>G(h,y,1)},[M.$slots[c.type]?e.renderSlot(M.$slots,c.type,{key:0,text:e.unref(r)(c.type).text,value:e.unref(r)(c.type).value}):e.createCommentVNode("",!0),M.$slots[c.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(r)(c.type).text),1)],64))],42,Ul),e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(p).decrementValue(c.type),tabindex:"0",onKeydown:[e.withKeys(h=>$(c.type,!1),["enter"]),e.withKeys(h=>$(c.type,!1),["space"])],onClick:h=>$(c.type,!1),ref_for:!0,ref:h=>G(h,y,2)},[M.$slots["arrow-down"]?e.renderSlot(M.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),M.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Pt),{key:1}))],40,Gl)],64))],2))),128)),M.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Xl,[M.$slots["am-pm-button"]?e.renderSlot(M.$slots,"am-pm-button",{key:0,toggle:W,value:f.value}):e.createCommentVNode("",!0),M.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":e.unref(p).amPmButton,tabindex:"0",onClick:W,onKeydown:[e.withKeys(e.withModifiers(W,["prevent"]),["enter"]),e.withKeys(e.withModifiers(W,["prevent"]),["space"])]},e.toDisplayString(f.value),41,ql))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(J),(c,y)=>(e.openBlock(),e.createBlock(e.Transition,{key:y,name:e.unref(A)(u[c.type]),css:e.unref(N)},{default:e.withCtx(()=>[u[c.type]?(e.openBlock(),e.createBlock(Ye,{key:0,items:i(c.type),"disabled-values":t.filters.times[c.type],"esc-close":t.escClose,"onUpdate:modelValue":h=>L(c.type,h),onSelected:h=>z(c.type),onToggle:h=>z(c.type),onResetFlow:B[0]||(B[0]=h=>M.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[M.$slots["clock-icon"]?e.renderSlot(M.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),M.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Vt),{key:1}))]),_:2},[M.$slots[`${c.type}-overlay`]?{name:"item",fn:e.withCtx(({item:h})=>[e.renderSlot(M.$slots,`${c.type}-overlay`,{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","onUpdate:modelValue","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Re=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]}],Zl=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Ql={all:()=>Re,monthYear:()=>Re.filter(t=>t.use.includes("month-year")),input:()=>Zl,timePicker:()=>Re.filter(t=>t.use.includes("time")),action:()=>Re.filter(t=>t.use.includes("action")),calendar:()=>Re.filter(t=>t.use.includes("calendar")),menu:()=>Re.filter(t=>t.use.includes("menu"))},$e=(t,a,l)=>{const n=[];return Ql[a]().forEach(u=>{t[u.name]&&n.push(u.name)}),l&&l.length&&l.forEach(u=>{u.slot&&n.push(u.slot)}),n},Fl=["aria-label"],xl={class:"dp__overlay_container dp__container_flex"},ea={key:1,class:"dp__overlay_row"},ta=["aria-label"],na=e.defineComponent({__name:"TimePicker",props:{...Lt,range:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},customProps:{type:Object,default:null},modelAuto:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},escClose:{type:Boolean,default:!0}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,u=e.useSlots(),f=e.ref(null),k=e.ref(null),p=e.inject(ct,!1),w=e.ref([]),C=e.ref(null),A=e.inject(ge),N=e.inject(ke),{transitionName:O,showTransition:E}=Je(),{buildMatrix:v,setTimePicker:P}=we();e.onMounted(()=>{l("mount"),!n.timePicker&&(N==null?void 0:N.value)?v([le(f.value)],"time"):P(!0,n.timePicker)});const J=e.computed(()=>n.range&&n.modelAuto?Ft(n.internalModelValue):!0),r=e.ref(!1),i=B=>({hours:Array.isArray(n.hours)?n.hours[B]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[B]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[B]:n.seconds}),_=e.computed(()=>{const B=[];if(n.range)for(let c=0;c<2;c++)B.push(i(c));else B.push(i(0));return B}),z=(B,c=!1,y="")=>{c||l("reset-flow"),r.value=B,N!=null&&N.value&&(P(B),B||l("overlay-closed")),e.nextTick(()=>{y!==""&&w.value[0]&&w.value[0].openChildCmp(y)})},$=e.computed(()=>({dp__button:!0,dp__button_bottom:p})),I=$e(u,"timePicker"),W=(B,c,y)=>n.range?c===0?[B,_.value[1][y]]:[_.value[0][y],B]:B,Z=B=>{l("update:hours",B)},G=B=>{l("update:minutes",B)},L=B=>{l("update:seconds",B)},M=()=>{C.value&&(N==null?void 0:N.value)&&C.value.focus({preventScroll:!0})};return a({toggleTimePicker:z}),(B,c)=>(e.openBlock(),e.createElementBlock("div",null,[B.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref($)),role:"button","aria-label":e.unref(A).openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:f,onKeydown:[c[0]||(c[0]=e.withKeys(y=>z(!0),["enter"])),c[1]||(c[1]=e.withKeys(y=>z(!0),["space"]))],onClick:c[2]||(c[2]=y=>z(!0))},[B.$slots["clock-icon"]?e.renderSlot(B.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Vt),{key:1}))],42,Fl)),e.createVNode(e.Transition,{name:e.unref(O)(r.value),css:e.unref(E)},{default:e.withCtx(()=>[r.value||B.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:C,tabindex:"0"},[e.createElementVNode("div",xl,[B.$slots["time-picker-overlay"]?e.renderSlot(B.$slots,"time-picker-overlay",{key:0,range:t.range,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:Z,setMinutes:G,setSeconds:L}):e.createCommentVNode("",!0),B.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ea,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(_),(y,h)=>e.withDirectives((e.openBlock(),e.createBlock(Jl,e.mergeProps({key:h,disabled:h===0?B.fixedStart:B.fixedEnd,hours:y.hours,minutes:y.minutes,seconds:y.seconds,filters:t.filters,ref_for:!0,ref_key:"timeInputRefs",ref:w},{is24:B.is24,hoursGridIncrement:B.hoursGridIncrement,minutesGridIncrement:B.minutesGridIncrement,secondsGridIncrement:B.secondsGridIncrement,hoursIncrement:B.hoursIncrement,minutesIncrement:B.minutesIncrement,secondsIncrement:B.secondsIncrement,filters:t.filters,noHoursOverlay:B.noHoursOverlay,noMinutesOverlay:B.noMinutesOverlay,noSecondsOverlay:B.noSecondsOverlay,enableSeconds:B.enableSeconds,closeTimePickerBtn:k.value,escClose:t.escClose,order:h},{"onUpdate:hours":D=>Z(W(D,h,"hours")),"onUpdate:minutes":D=>G(W(D,h,"minutes")),"onUpdate:seconds":D=>L(W(D,h,"seconds")),onMounted:M,onOverlayClosed:M}),e.createSlots({_:2},[e.renderList(e.unref(I),(D,H)=>({name:D,fn:e.withCtx(Y=>[e.renderSlot(B.$slots,D,e.normalizeProps(e.guardReactiveProps(Y)))])}))]),1040,["disabled","hours","minutes","seconds","filters","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,h===0?!0:e.unref(J)]])),128))])),B.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:k,class:e.normalizeClass(e.unref($)),role:"button","aria-label":e.unref(A).closeTimePicker,tabindex:"0",onKeydown:[c[3]||(c[3]=e.withKeys(y=>z(!1),["enter"])),c[4]||(c[4]=e.withKeys(y=>z(!1),["space"]))],onClick:c[5]||(c[5]=y=>z(!1))},[B.$slots["calendar-icon"]?e.renderSlot(B.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(je),{key:1}))],42,ta))])],512)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]))}}),la=(t,a,l,n)=>{const u=e.ref(new Date),f=e.ref(),k=e.ref([{month:s.getMonth(new Date),year:s.getYear(new Date)}]),p=e.ref(t.range?[s.getHours(new Date),s.getHours(new Date)]:s.getHours(new Date)),w=e.ref(t.range?[s.getMinutes(new Date),s.getMinutes(new Date)]:s.getMinutes(new Date)),C=e.ref(t.range?[0,0]:0);e.watch(k,()=>{setTimeout(()=>{t.openOnTop&&a("dpOpen")},0)},{deep:!0}),e.onMounted(()=>{G(!0),r.value||(t.startDate&&(k.value[0].month=s.getMonth(new Date(t.startDate)),k.value[0].year=s.getYear(new Date(t.startDate)),t.multiCalendars&&V(0)),t.startTime&&J())});const A=e.computed(()=>o=>k.value[o]?k.value[o].month:0),N=e.computed(()=>o=>k.value[o]?k.value[o].year:0),O=(o,b,S)=>{k.value[o].month=b,k.value[o].year=S},E=(o,b)=>k.value[o].month=b,v=(o,b)=>k.value[o].year=b,P=(o=!0)=>t.enableSeconds?Array.isArray(C.value)?o?C.value[0]:C.value[1]:C.value:0,J=()=>{t.startTime&&(el(t.startTime)?(p.value=[+t.startTime[0].hours,+t.startTime[1].hours],w.value=[+t.startTime[0].minutes,+t.startTime[1].minutes],t.enableSeconds&&(C.value=[+t.startTime[0].seconds,+t.startTime[1].seconds])):(p.value=+t.startTime.hours,w.value=+t.startTime.minutes,t.enableSeconds&&(C.value=+t.startTime.seconds)))},r=e.computed({get:()=>t.internalModelValue,set:o=>{!t.readonly&&!t.disabled&&a("update:internalModelValue",o)}});e.watch(r,()=>G());const i=o=>{const{validate:b}=Yt(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,t.filters,t.disabledWeekDays,t.yearRange);return!b(o)},_=o=>!r.value||t.hideOffsetDates&&!o.current?!1:t.range?t.modelAuto&&Array.isArray(r.value)?x(o.value,r.value[0]?r.value[0]:u.value):!1:t.multiDates&&Array.isArray(r.value)?r.value.some(b=>x(b,o.value)):x(o.value,r.value?r.value:u.value),z=o=>Ot(r.value,f.value,o.value),$=(o,b=!1)=>{if((!t.multiCalendars||!t.multiStatic||b)&&(E(0,s.getMonth(o)),v(0,s.getYear(o))),t.multiCalendars)for(let S=1;S<=t.multiCalendars;S++){const U=s.set(new Date,{month:A.value(S-1),year:N.value(S-1)}),ce=s.add(U,{months:1});k.value[S]={month:s.getMonth(ce),year:s.getYear(ce)}}},I=()=>{if(Array.isArray(r.value)&&r.value.length===2){const o=new Date(r.value[1]?r.value[1]:s.addMonths(r.value[0],1)),[b,S]=[s.getMonth(r.value[0]),s.getYear(r.value[0])],[U,ce]=[s.getMonth(r.value[1]),s.getYear(r.value[1])];(b!==U||b===U&&S!==ce)&&t.multiCalendarsSolo&&(E(1,s.getMonth(o)),v(1,s.getYear(o)))}},W=o=>{$(o),p.value=s.getHours(o),w.value=s.getMinutes(o),C.value=s.getSeconds(o)},Z=()=>Array.isArray(r.value)&&r.value.length?r.value[r.value.length-1]:null,G=(o=!1)=>{if(r.value)if(Ie(r.value)){if(r.value.length===2&&!t.multiDates)$(r.value[0],o),p.value=[s.getHours(r.value[0]),r.value[1]?s.getHours(r.value[1]):s.getHours(new Date)],w.value=[s.getMinutes(r.value[0]),r.value[1]?s.getMinutes(r.value[1]):s.getMinutes(new Date)],C.value=[s.getSeconds(r.value[0]),r.value[1]?s.getSeconds(r.value[1]):s.getSeconds(new Date)];else if(Ie(r.value)&&t.multiDates){const b=r.value[r.value.length-1];b&&W(b)}t.multiCalendars&&t.multiCalendarsSolo&&I()}else W(r.value);else t.timePicker?(J(),t.range?me(p.value)&&me(w.value)&&(r.value=[ie(new Date,p.value[0],w.value[0],P()),ie(new Date,p.value[1],w.value[1],P(!1))]):r.value=ie(new Date,p.value,w.value,P())):t.monthPicker&&!t.range?r.value=De(new Date,A.value(0),N.value(0)):t.multiCalendars?$(new Date):t.yearPicker&&!t.range&&(r.value=new Date)},L=o=>{const b=s.getMonth(new Date(o)),S=s.getYear(new Date(o));if(E(0,b),v(0,S),t.multiCalendars>0)for(let U=1;U<t.multiCalendars;U++){const ce=Yn(s.set(new Date(o),{year:A.value(U-1),month:N.value(U-1)}));E(U,ce.month),v(U,ce.year)}},M=o=>{if(r.value&&Array.isArray(r.value))if(r.value.some(b=>x(o,b))){const b=r.value.filter(S=>!x(S,o));r.value=b.length?b:null}else(t.multiDatesLimit&&+t.multiDatesLimit>r.value.length||!t.multiDatesLimit)&&r.value.push(o);else r.value=[o]},B=o=>{if(Array.isArray(r.value)&&r.value[0]){const b=s.differenceInCalendarDays(o,r.value[0]),S=re(r.value[0],o)?o:r.value[0],U=re(o,r.value[0])?o:r.value[0],Pe=s.eachDayOfInterval({start:S,end:U}).filter(Oe=>i(Oe)).length,de=Math.abs(b<0?b+1:b-1)-Pe;if(t.minRange&&t.maxRange)return de>=+t.minRange&&de<=+t.maxRange;if(t.minRange)return de>=+t.minRange;if(t.maxRange)return de<=+t.maxRange}return!0},c=o=>Array.isArray(r.value)&&r.value.length===2?t.fixedStart&&(re(o,r.value[0])||x(o,r.value[0]))?[r.value[0],o]:t.fixedEnd&&(ae(o,r.value[1])||x(o,r.value[1]))?[o,r.value[1]]:r.value:[],y=()=>{t.autoApply&&a("autoApply")},h=o=>!s.eachDayOfInterval({start:o[0],end:o[1]}).some(S=>i(S)),D=(o,b=!1)=>{if(!i(o.value)&&!(!o.current&&t.hideOffsetDates)){if(t.weekPicker)return r.value=Ue(new Date(o.value),+t.weekStart),y();if(!t.range&&!me(p.value)&&!me(w.value)){const S=ie(new Date(o.value),p.value,w.value,P());t.multiDates?M(S):r.value=S,l(),y()}else if(me(p.value)&&me(w.value)&&!t.multiDates){let S=r.value?r.value.slice():[];if(S.length===2&&!(t.fixedStart||t.fixedEnd)&&(S=[]),t.autoRange){const U=[new Date(o.value),s.addDays(new Date(o.value),+t.autoRange)];h(U)&&(b&&L(o.value),S=U)}else t.fixedStart||t.fixedEnd?S=c(new Date(o.value)):S[0]?B(new Date(o.value))&&(ae(new Date(o.value),new Date(S[0]))?S.unshift(new Date(o.value)):S[1]=new Date(o.value)):S[0]=new Date(o.value);S.length&&(S[0]&&!S[1]?S[0]=ie(S[0],p.value[0],w.value[0],P()):(S[0]=ie(S[0],p.value[0],w.value[0],P()),S[1]=ie(S[1],p.value[1],w.value[1],P(!1)),l()),r.value=S,S[0]&&S[1]&&t.autoApply&&a("autoApply"))}}},H=o=>{const b=o.find(S=>S.current);return b?s.getISOWeek(b.value):""},Y=o=>{!o.current&&t.hideOffsetDates||(f.value=o.value)},X=o=>{if(t.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!o.current)return!1;const b=s.addDays(f.value,+t.autoRange),S=Ue(new Date(f.value),+t.weekStart);return t.weekPicker?x(S[1],new Date(o.value)):x(b,new Date(o.value))}return!1}return!1},Q=o=>{if(t.autoRange||t.weekPicker){if(f.value){const b=s.addDays(f.value,+t.autoRange);if(t.hideOffsetDates&&!o.current)return!1;const S=Ue(new Date(f.value),+t.weekStart);return t.weekPicker?re(o.value,S[0])&&ae(o.value,S[1]):re(o.value,f.value)&&ae(o.value,b)}return!1}return!1},g=o=>{if(t.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!o.current)return!1;const b=Ue(new Date(f.value),+t.weekStart);return t.weekPicker?x(b[0],o.value):x(f.value,o.value)}return!1}return!1},V=o=>{for(let b=o-1;b>=0;b--){const S=s.subMonths(s.set(new Date,{month:A.value(b+1),year:N.value(b+1)}),1);O(b,s.getMonth(S),s.getYear(S))}for(let b=o+1;b<=t.multiCalendars-1;b++){const S=s.addMonths(s.set(new Date,{month:A.value(b-1),year:N.value(b-1)}),1);O(b,s.getMonth(S),s.getYear(S))}},T=o=>De(new Date,A.value(o),N.value(o)),ue=(o,b)=>{const S=t.monthPicker?A.value(o)!==b.month||!b.fromNav:N.value(o)!==b.year;if(E(o,b.month),v(o,b.year),t.multiCalendars&&!t.multiCalendarsSolo&&V(o),t.monthPicker||t.yearPicker)if(t.range){if(S){let U=r.value?r.value.slice():[];U.length===2&&U[1]!==null&&(U=[]),U.length?ae(T(o),U[0])?U.unshift(T(o)):U[1]=T(o):U=[T(o)],r.value=U}}else r.value=T(o);a("updateMonthYear",{instance:o,month:b.month,year:b.year}),xe(t.multiCalendarsSolo?o:void 0)},ye=o=>ie(o,p.value,w.value,P()),he=o=>{Ie(o)&&Ie(r.value)&&me(p.value)&&me(w.value)?(o[0]&&r.value[0]&&(r.value[0]=ie(o[0],p.value[0],w.value[0],P())),o[1]&&r.value[1]&&(r.value[1]=ie(o[1],p.value[1],w.value[1],P(!1)))):t.multiDates&&Array.isArray(r.value)?r.value[r.value.length-1]=ye(o):!t.range&&!Xe(o)&&(r.value=ye(o)),a("timeUpdate")},Ce=(o,b=!0,S=!1)=>{const U=b?o:p.value,ce=!b&&!S?o:w.value,Pe=S?o:C.value;if(t.range&&Xe(r.value)&&me(U)&&me(ce)&&me(Pe)&&!t.disableTimeRangeValidation){const de=Me=>ie(r.value[Me],U[Me],ce[Me],Pe[Me]),Oe=Me=>s.setMilliseconds(r.value[Me],0);if(x(r.value[0],r.value[1])&&(s.isAfter(de(0),Oe(1))||s.isBefore(de(1),Oe(0))))return}if(p.value=U,w.value=ce,C.value=Pe,r.value)if(t.multiDates){const de=Z();de&&he(de)}else he(r.value);else t.timePicker&&he(t.range?[new Date,new Date]:new Date);l()},be=()=>{f.value=null},Ve=o=>Jt(r.value,t.range)&&r.value[0]&&f.value?o?re(f.value,r.value[0]):ae(f.value,r.value[0]):!0,se=(o,b=!0)=>(t.range||t.weekPicker)&&Xe(r.value)?t.hideOffsetDates&&!o.current?!1:x(new Date(o.value),r.value[b?0:1]):t.range?x(new Date(o.value),r.value&&Array.isArray(r.value)?b?r.value[0]||null:r.value[1]:null)&&(b?!ae(f.value||null,Array.isArray(r.value)?r.value[0]:null):!0)||x(o.value,Array.isArray(r.value)?r.value[0]:null)&&Ve(b):!1,_e=(o,b)=>Array.isArray(t.internalModelValue)&&t.internalModelValue.length||t.weekPicker?!1:!o&&!_(b)&&!(!b.current&&t.hideOffsetDates)&&(t.range?!se(b)&&!se(b,!1):!0),Ke=(o,b,S)=>Array.isArray(t.internalModelValue)&&t.internalModelValue[0]&&t.internalModelValue.length===1?o?!1:S?re(t.internalModelValue[0],b.value):ae(t.internalModelValue[0],b.value):!1,ve=async(o=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const b=t.monthPicker?o:!1;t.range?a("autoApply",b||!r.value||r.value.length===1):a("autoApply",b)}l()},Be=(o,b)=>{const S=s.set(new Date,{month:A.value(b),year:N.value(b)}),U=o<0?s.addMonths(S,1):s.subMonths(S,1);en(t.minDate,t.maxDate,s.getMonth(U),s.getYear(U),o<0,t.preventMinMaxNavigation)&&(O(b,s.getMonth(U),s.getYear(U)),t.multiCalendars&&!t.multiCalendarsSolo&&V(b),xe())},m=(o,b)=>{t.monthChangeOnScroll&&Be(t.monthChangeOnScroll!=="inverse"?-o.deltaY:o.deltaY,b)},F=(o,b,S=!1)=>{t.monthChangeOnArrows&&t.vertical===S&&te(o,b)},te=(o,b)=>{Be(o==="right"?-1:1,b)},He=o=>t.markers.find(b=>x(pe(o.value),pe(b.date))),Ne=()=>{t.range?Jt(r.value,t.range)&&(r.value&&r.value[0]?r.value=ae(new Date,r.value[0])?[new Date,r.value[0]]:[r.value[0],new Date]:r.value=[new Date]):a("update:internalModelValue",new Date),t.autoApply&&a("selectDate")},Mt=(o,b)=>{b||o.length&&o.length<=2&&t.range&&(r.value=o.map(S=>new Date(S)),t.autoApply&&a("selectDate"))},xe=o=>{o||o===0?n.value[o].triggerTransition(A.value(o),N.value(o)):n.value.forEach((b,S)=>b.triggerTransition(A.value(S),N.value(S)))};return{today:u,hours:p,minutes:w,seconds:C,month:A,year:N,monthYearSelect:ve,isDisabled:i,updateTime:Ce,setHoverDate:Y,getWeekNum:H,selectDate:D,rangeActive:z,isActiveDate:_,updateMonthYear:ue,isHoverRangeEnd:X,isAutoRangeInBetween:Q,isAutoRangeStart:g,clearHoverDate:be,rangeActiveStartEnd:se,handleScroll:m,getMarker:He,handleArrow:F,handleSwipe:te,selectCurrentDate:Ne,isHoverDate:_e,isHoverDateStartEnd:Ke,presetDateRange:Mt}},Qe=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),tn=()=>({setMenuFocused:n=>{Qe.menuFocused=n},getStore:()=>Qe,setShiftKey:n=>{Qe.shiftKeyInMenu!==n&&(Qe.shiftKeyInMenu=n)}});var Fe=(t=>(t.center="center",t.left="left",t.right="right",t))(Fe||{});const aa=["id","aria-label","onKeydown"],ra={key:0,class:"dp__sidebar_left"},oa={key:1,class:"dp__preset_ranges"},sa=["onClick"],ia={key:2,class:"dp__sidebar_right"},ca={key:3,class:"dp__now_wrap"},da=e.defineComponent({__name:"DatepickerMenu",props:{...Gt,...ut,...dt,internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},openOnTop:{type:Boolean,default:!1}},emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear","invalid-select"],setup(t,{emit:a}){const l=t,n=e.useSlots(),u=e.ref(null),f=e.reactive({timePicker:!!(!l.enableTimePicker||l.timePicker||l.monthPicker),monthYearInput:!!l.timePicker,calendar:!1}),k=e.ref([]),p=e.ref([]),w=e.ref(null),C=e.ref(null),A=e.ref(0),N=e.ref(!1),O=e.ref(0),E=e.inject(Ge),v=e.inject(ge),P=e.inject(ke),{setMenuFocused:J,setShiftKey:r,getStore:i}=tn();e.onMounted(()=>{var K;N.value=!0,!((K=l.presetRanges)!=null&&K.length)&&!n["left-sidebar"]&&!n["right-sidebar"]&&U();const d=le(C);if(d&&!l.textInput&&!l.inline&&(J(!0),W()),d){const R=j=>{!l.monthYearComponent&&!l.timePickerComponent&&j.preventDefault(),j.stopImmediatePropagation(),j.stopPropagation()};d.addEventListener("pointerdown",R),d.addEventListener("mousedown",R)}document.addEventListener("resize",U)}),e.onUnmounted(()=>{document.removeEventListener("resize",U)});const{arrowRight:_,arrowLeft:z,arrowDown:$,arrowUp:I}=we(),W=()=>{const d=le(C);d&&d.focus({preventScroll:!0})},Z=()=>{var d;((d=l.flow)==null?void 0:d.length)&&O.value!==-1&&(O.value+=1,a("flow-step",O.value),nn())},G=()=>{O.value=-1},{updateTime:L,updateMonthYear:M,today:B,month:c,year:y,hours:h,minutes:D,seconds:H,isDisabled:Y,isActiveDate:X,selectDate:Q,getWeekNum:g,setHoverDate:V,isHoverRangeEnd:T,isAutoRangeInBetween:ue,isAutoRangeStart:ye,rangeActive:he,clearHoverDate:Ce,rangeActiveStartEnd:be,monthYearSelect:Ve,handleScroll:se,handleArrow:_e,handleSwipe:Ke,getMarker:ve,selectCurrentDate:Be,isHoverDateStartEnd:m,isHoverDate:F,presetDateRange:te}=la(l,a,Z,p),He=$e(n,"calendar"),Ne=$e(n,"action"),Mt=$e(n,"timePicker"),xe=$e(n,"monthYear"),o=e.computed(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),b=e.computed(()=>ol(l.yearRange)),S=e.computed(()=>sl(l.locale,l.monthNameFormat)),U=()=>{const d=le(u);d&&(A.value=d.getBoundingClientRect().width)},ce=e.computed(()=>d=>ll(c.value(d),y.value(d),+l.weekStart,l.hideOffsetDates)),Pe=e.computed(()=>l.multiCalendars>0&&l.range?[...Array(l.multiCalendars).keys()]:[0]),de=e.computed(()=>d=>d===1),Oe=e.computed(()=>l.monthPicker||l.timePicker||l.yearPicker),Me=e.computed(()=>({dp__flex_display:l.multiCalendars>0})),ka=e.computed(()=>({dp__instance_calendar:l.multiCalendars>0})),wa=e.computed(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly})),Ca=e.computed(()=>d=>Sa(ce,d)),ba=e.computed(()=>({locale:l.locale,weekNumName:l.weekNumName,weekStart:l.weekStart,weekNumbers:l.weekNumbers,customProps:l.customProps,calendarClassName:l.calendarClassName,specificMode:Oe.value,getWeekNum:g,multiCalendars:l.multiCalendars,modeHeight:l.modeHeight,internalModelValue:l.internalModelValue,noSwipe:l.noSwipe,vertical:l.vertical,dayNames:l.dayNames,monthChangeOnScroll:l.monthChangeOnScroll})),Ba=e.computed(()=>({dp__menu:!0,dp__menu_index:!l.inline,dp__relative:l.inline,[l.menuClassName]:!!l.menuClassName})),Ma=()=>l.modelAuto&&Array.isArray(l.internalModelValue)?!!l.internalModelValue[0]:!1,Le=()=>l.modelAuto?Ft(l.internalModelValue):!0,Sa=(d,K)=>d.value(K).map(R=>({...R,days:R.days.map(j=>{const q=Y(j.value),ze=F(q,j),Ae=l.range?l.modelAuto?Ma()&&X(j):!1:X(j),ln=l.highlight?It(j.value,l.highlight):!1,an=q&&l.highlightDisabledDays==!1,rn=l.highlightWeekDays&&l.highlightWeekDays.includes(j.value.getDay()),on=(l.range||l.weekPicker)&&(l.multiCalendars>0?j.current:!0)&&!q&&Le()&&!(!j.current&&l.hideOffsetDates)&&!X(j)?he(j):!1;return j.marker=ve(j),j.classData={dp__cell_offset:!j.current,dp__pointer:!q&&!(!j.current&&l.hideOffsetDates),dp__active_date:Ae,dp__date_hover:ze,dp__date_hover_start:m(ze,j,!0),dp__date_hover_end:m(ze,j,!1),dp__range_between:on&&!l.weekPicker,dp__range_between_week:on&&l.weekPicker,dp__today:!l.noToday&&x(j.value,B.value)&&j.current,dp__cell_disabled:q,dp__cell_auto_range:ue(j),dp__cell_auto_range_start:ye(j),dp__cell_auto_range_end:T(j),dp__range_start:l.multiCalendars>0?j.current&&be(j)&&Le():be(j)&&Le(),dp__range_end:l.multiCalendars>0?j.current&&be(j,!1)&&Le():be(j,!1)&&Le(),[l.calendarCellClassName]:!!l.calendarCellClassName,dp__cell_highlight:!an&&(ln||rn)&&!Ae,dp__cell_highlight_active:!an&&(ln||rn)&&Ae,[l.dayClass?l.dayClass(j.value):""]:!0},j})})),Da=d=>{d.stopPropagation(),d.preventDefault(),d.stopImmediatePropagation()},$a=()=>{l.escClose&&a("closePicker")},Va=(d,K=!1)=>{Q(d,K),l.spaceConfirm&&a("selectDate")},St=d=>{var K;(K=l.flow)!=null&&K.length&&(f[d]=!0,Object.keys(f).filter(R=>!f[R]).length||nn())},nn=()=>{l.flow[O.value]==="month"&&k.value[0]&&k.value[0].toggleMonthPicker(!0),l.flow[O.value]==="year"&&k.value&&k.value[0].toggleYearPicker(!0),l.flow[O.value]==="calendar"&&w.value&&w.value.toggleTimePicker(!1,!0),l.flow[O.value]==="time"&&w.value&&w.value.toggleTimePicker(!0,!0);const d=l.flow[O.value];(d==="hours"||d==="minutes"||d==="seconds")&&w.value&&w.value.toggleTimePicker(!0,!0,d)},et=d=>{if(P!=null&&P.value){if(d==="up")return I();if(d==="down")return $();if(d==="left")return z();if(d==="right")return _()}else d==="left"||d==="up"?_e("left",0,d==="up"):_e("right",0,d==="down")},Na=d=>{r(d.shiftKey),!l.disableMonthYearSelect&&d.code==="Tab"&&d.target.classList.contains("dp__menu")&&i().shiftKeyInMenu&&(d.preventDefault(),d.stopImmediatePropagation(),a("closePicker"))};return(d,K)=>(e.openBlock(),e.createBlock(e.Transition,{appear:"",name:e.unref(E).menuAppear,mode:"out-in",css:!!e.unref(E)},{default:e.withCtx(()=>[e.createElementVNode("div",{id:d.uid?`dp-menu-${d.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:C,role:"dialog","aria-label":e.unref(v).menu,class:e.normalizeClass(e.unref(Ba)),onMouseleave:K[12]||(K[12]=(...R)=>e.unref(Ce)&&e.unref(Ce)(...R)),onClick:Da,onKeydown:[e.withKeys($a,["esc"]),K[13]||(K[13]=e.withKeys(e.withModifiers(R=>et("left"),["prevent"]),["left"])),K[14]||(K[14]=e.withKeys(e.withModifiers(R=>et("up"),["prevent"]),["up"])),K[15]||(K[15]=e.withKeys(e.withModifiers(R=>et("down"),["prevent"]),["down"])),K[16]||(K[16]=e.withKeys(e.withModifiers(R=>et("right"),["prevent"]),["right"])),Na]},[(d.disabled||d.readonly)&&d.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(wa))},null,2)):e.createCommentVNode("",!0),!d.inline&&!d.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(o))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:d.presetRanges.length||!!d.$slots["left-sidebar"]||!!d.$slots["right-sidebar"]})},[d.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",ra,[e.renderSlot(d.$slots,"left-sidebar")])):e.createCommentVNode("",!0),d.presetRanges.length?(e.openBlock(),e.createElementBlock("div",oa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.presetRanges,(R,j)=>(e.openBlock(),e.createElementBlock("div",{key:j,style:e.normalizeStyle(R.style||{}),class:"dp__preset_range",onClick:q=>e.unref(te)(R.range,!!R.slot)},[R.slot?e.renderSlot(d.$slots,R.slot,{key:0,presetDateRange:e.unref(te),label:R.label,range:R.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(R.label),1)],64))],12,sa))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:u,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(Me))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Pe),(R,j)=>(e.openBlock(),e.createElementBlock("div",{key:R,class:e.normalizeClass(e.unref(ka))},[!d.disableMonthYearSelect&&!d.timePicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.monthYearComponent?d.monthYearComponent:zl),e.mergeProps({key:0,ref_for:!0,ref:q=>{q&&(k.value[j]=q)}},{months:e.unref(S),years:e.unref(b),filters:d.filters,monthPicker:d.monthPicker,month:e.unref(c)(R),year:e.unref(y)(R),customProps:d.customProps,multiCalendars:t.multiCalendars,multiCalendarsSolo:d.multiCalendarsSolo,instance:R,minDate:d.minDate,maxDate:d.maxDate,preventMinMaxNavigation:d.preventMinMaxNavigation,internalModelValue:t.internalModelValue,range:d.range,reverseYears:d.reverseYears,vertical:d.vertical,yearPicker:d.yearPicker,escClose:d.escClose},{onMount:K[0]||(K[0]=q=>St("monthYearInput")),onResetFlow:G,onUpdateMonthYear:q=>e.unref(M)(R,q),onMonthYearSelect:e.unref(Ve),onOverlayClosed:W}),e.createSlots({_:2},[e.renderList(e.unref(xe),(q,ze)=>({name:q,fn:e.withCtx(Ae=>[e.renderSlot(d.$slots,q,e.normalizeProps(e.guardReactiveProps(Ae)))])}))]),1040,["onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(Pl,e.mergeProps({ref_for:!0,ref:q=>{q&&(p.value[j]=q)}},e.unref(ba),{"flow-step":O.value,"onUpdate:flow-step":K[1]||(K[1]=q=>O.value=q),instance:R,"mapped-dates":e.unref(Ca)(R),month:e.unref(c)(R),year:e.unref(y)(R),onSelectDate:q=>e.unref(Q)(q,!e.unref(de)(R)),onHandleSpace:q=>Va(q,!e.unref(de)(R)),onSetHoverDate:K[2]||(K[2]=q=>e.unref(V)(q)),onHandleScroll:q=>e.unref(se)(q,R),onHandleSwipe:q=>e.unref(Ke)(q,R),onMount:K[3]||(K[3]=q=>St("calendar")),onResetFlow:G}),e.createSlots({_:2},[e.renderList(e.unref(He),(q,ze)=>({name:q,fn:e.withCtx(Ae=>[e.renderSlot(d.$slots,q,e.normalizeProps(e.guardReactiveProps({...Ae})))])}))]),1040,["flow-step","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[d.enableTimePicker&&!d.monthPicker&&!d.weekPicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.timePickerComponent?d.timePickerComponent:na),e.mergeProps({key:0,ref_key:"timePickerRef",ref:w},{is24:d.is24,hoursIncrement:d.hoursIncrement,minutesIncrement:d.minutesIncrement,hoursGridIncrement:d.hoursGridIncrement,secondsIncrement:d.secondsIncrement,minutesGridIncrement:d.minutesGridIncrement,secondsGridIncrement:d.secondsGridIncrement,noHoursOverlay:d.noHoursOverlay,noMinutesOverlay:d.noMinutesOverlay,noSecondsOverlay:d.noSecondsOverlay,range:d.range,filters:d.filters,timePicker:d.timePicker,hours:e.unref(h),minutes:e.unref(D),seconds:e.unref(H),customProps:d.customProps,enableSeconds:d.enableSeconds,fixedStart:d.fixedStart,fixedEnd:d.fixedEnd,modelAuto:d.modelAuto,internalModelValue:t.internalModelValue,escClose:d.escClose},{onMount:K[4]||(K[4]=R=>St("timePicker")),"onUpdate:hours":K[5]||(K[5]=R=>e.unref(L)(R)),"onUpdate:minutes":K[6]||(K[6]=R=>e.unref(L)(R,!1)),"onUpdate:seconds":K[7]||(K[7]=R=>e.unref(L)(R,!1,!0)),onResetFlow:G,onOverlayClosed:W}),e.createSlots({_:2},[e.renderList(e.unref(Mt),(R,j)=>({name:R,fn:e.withCtx(q=>[e.renderSlot(d.$slots,R,e.normalizeProps(e.guardReactiveProps(q)))])}))]),1040)):e.createCommentVNode("",!0)])],512),d.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",ia,[e.renderSlot(d.$slots,"right-sidebar")])):e.createCommentVNode("",!0),d.showNowButton?(e.openBlock(),e.createElementBlock("div",ca,[d.$slots["now-button"]?e.renderSlot(d.$slots,"now-button",{key:0,selectCurrentDate:e.unref(Be)}):e.createCommentVNode("",!0),d.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:K[8]||(K[8]=(...R)=>e.unref(Be)&&e.unref(Be)(...R))},e.toDisplayString(d.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!d.autoApply||d.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.actionRowComponent?d.actionRowComponent:gl),e.mergeProps({key:2},{calendarWidth:A.value,selectText:d.selectText,cancelText:d.cancelText,internalModelValue:t.internalModelValue,range:d.range,previewFormat:d.previewFormat,inline:d.inline,monthPicker:d.monthPicker,timePicker:d.timePicker,customProps:d.customProps,multiCalendars:t.multiCalendars,menuMount:N.value,maxTime:d.maxTime,minTime:d.minTime,enableTimePicker:d.enableTimePicker,minDate:d.minDate,maxDate:d.maxDate,multiDates:d.multiDates,modelAuto:d.modelAuto,partialRange:d.partialRange,ignoreTimeValidation:d.ignoreTimeValidation},{onClosePicker:K[9]||(K[9]=R=>d.$emit("closePicker")),onSelectDate:K[10]||(K[10]=R=>d.$emit("selectDate")),onInvalidSelect:K[11]||(K[11]=R=>d.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Ne),(R,j)=>({name:R,fn:e.withCtx(q=>[e.renderSlot(d.$slots,R,e.normalizeProps(e.guardReactiveProps({...q})))])}))]),1040)):e.createCommentVNode("",!0)],42,aa)]),_:3},8,["name","css"]))}}),ua=(t,a,l,n,u,f,k,p,w,C,A,N,O,E,v,P,J)=>{const r=e.ref(""),i=e.ref();e.watch(i,()=>{J("internalModelChange",i.value)});const _=c=>[Z(c[0]),c[1]?Z(c[1]):null],z=c=>{let y=null;c?a?Zn(c)&&"hours"in c[0]&&"minutes"in c[0]?y=[ie(null,+c[0].hours,+c[0].minutes,+c[0].seconds),ie(null,+c[1].hours,+c[1].minutes,+c[1].seconds)]:Jn(c)&&(y=ie(null,+c.hours,+c.minutes,+c.seconds)):l?Qn(c)&&"month"in c[0]&&"year"in c[0]?(y=[De(null,+c[0].month,+c[0].year)],c[1]?y[1]=De(null,+c[1].month,+c[1].year):!c[1]&&u&&(y[1]=null)):Fn(c)&&"month"in c&&"year"in c&&(y=De(null,+c.month,+c.year)):O?Array.isArray(c)?y=[s.setYear(new Date,c[0]),!c[1]&&u?null:s.setYear(new Date,c[1])]:y=s.setYear(new Date,c):C&&Array.isArray(c)?y=c.map(h=>Z(h)):N&&Array.isArray(c)?y=[new Date(c[0]),new Date(c[1])]:n?P?Array.isArray(c)?y=_(c):y=[Z(c),null]:xn(c,u)&&(y=_(c)):tl(c)&&(y=Z(c)):y=null,nt(y)?(i.value=y,I()):(i.value=null,r.value="")},$=()=>Et(t,f,p,l,a,N,O,k),I=()=>{if(!i.value)r.value="";else if(!t||typeof t=="string"){const c=$();Array.isArray(i.value)&&C?r.value=i.value.map(y=>Te(y,c,w==null?void 0:w.value)).join("; "):r.value=Te(i.value,c,w==null?void 0:w.value,E==null?void 0:E.rangeSeparator,P)}else a?r.value=t(at(i.value)):l?r.value=t(Rt(i.value)):r.value=t(i.value)},W=()=>i.value?n?u?i.value.length>=1:i.value.length===2:!!i.value:!1,Z=c=>{if(A){const y=new Date(c);return A==="preserve"?new Date(y.getTime()+y.getTimezoneOffset()*6e4):y}return v?v==="date"||v==="timestamp"?new Date(c):v==="format"&&(typeof t=="string"||!t)?s.parse(c,$(),new Date):s.parse(c,v,new Date):new Date(c)},G=c=>v?v==="timestamp"?+c:v==="format"&&(typeof t=="string"||!t)?Te(c,$(),w==null?void 0:w.value,E==null?void 0:E.rangeSeparator):Te(c,v,w==null?void 0:w.value,E==null?void 0:E.rangeSeparator):c,L=c=>{J("update:modelValue",c)},M=()=>[G(i.value[0]),i.value[1]?G(i.value[1]):null];return{parseExternalModelValue:z,formatInputValue:I,internalModelValue:i,inputValue:r,emitModelValue:()=>{if(l)L(Rt(i.value));else if(a)L(at(i.value));else if(N)L(i.value);else if(O)L(Array.isArray(i.value)?[s.getYear(i.value[0]),i.value[1]?s.getYear(i.value[1]):null]:s.getYear(i.value));else{if(i.value&&n&&u&&i.value.length===1&&i.value.push(null),A){let c;if(Array.isArray(i.value)){const y=h=>h&&it(h,A==="preserve");P?c=i.value[1]?i.value.map(y):it(i.value[0],A==="preserve"):c=i.value.map(y)}else c=it(i.value,A==="preserve");return L(c)}Array.isArray(i.value)&&!C?L(P?i.value[1]?M():G(i.value[0]):M()):Array.isArray(i.value)&&C?L(i.value.map(c=>G(c))):L(G(i.value))}I()},checkBeforeEmit:W}},ma=(t,a,l,n,u,f,k,p,w)=>{const C=e.ref({top:"0",left:"0",transform:"none"}),A=e.ref(!1),N=390,O=$=>{const I=$.getBoundingClientRect();return{left:I.left+window.scrollX,top:I.top+window.scrollY}},E=$=>{const I=$.getBoundingClientRect();let W=0,Z=0;for(;$&&!isNaN($.offsetLeft)&&!isNaN($.offsetTop);)W+=$.offsetLeft-$.scrollLeft,Z=I.top+$.scrollTop,$=$.offsetParent;return{top:Z,left:W}},v=($,I)=>{C.value.left=`${$+I}px`,C.value.transform="translateX(-100%)"},P=$=>{C.value.left=`${$}px`,C.value.transform="translateX(0)"},J=($,I)=>{t===Fe.left&&P($),t===Fe.right&&v($,I),t===Fe.center&&(C.value.left=`${$+I/2}px`,C.value.transform="translateX(-50%)")},r=()=>{const $=le(u);if($){const I=window.innerHeight,{top:W,left:Z}=a?E($):O($),{width:G,top:L,height:M}=$.getBoundingClientRect(),B=I-L-M;C.value.top=L>B?`${W-N}px`:`${W}px`,J(Z,G)}},i=()=>{C.value.left="50%",C.value.top="50%",C.value.transform="translate(-50%, -50%)",C.value.position="fixed"},_=($=!0)=>{if(!f){if(p.value)return i();const I=le(u);if(a&&typeof a!="boolean")C.value=a(I);else if(I){const{width:W,height:Z}=I.getBoundingClientRect(),{top:G,left:L}=a?E(I):O(I);C.value.top=`${Z+G+ +k}px`,J(L,W),$&&l&&z()}}},z=()=>{const $=le(u);if($&&l&&!f){const{height:I,top:W,width:Z}=$.getBoundingClientRect(),{top:G,left:L}=a?E($):O($),B=window.innerHeight-W-I,c=le(n);if(c){const{height:y,left:h,right:D}=c.getBoundingClientRect(),H=y+I;H>W&&H>B?W<B?(_(!1),A.value=!1):(C.value.top=`${G-y-+k}px`,A.value=!0):H>B?(C.value.top=`${G-y-+k}px`,A.value=!0):(_(!1),A.value=!1),h<0?P(L):D>document.documentElement.clientWidth&&v(L,Z)}}w("recalculatePosition")};return{openOnTop:A,menuPosition:C,setMenuPosition:_,setInitialPosition:r,recalculatePosition:z}},fa=typeof window<"u"?window:void 0,bt=()=>{},pa=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,ya=(t,a,l,n)=>{if(!t)return bt;let u=bt;const f=e.watch(()=>e.unref(t),p=>{u(),p&&(p.addEventListener(a,l,n),u=()=>{p.removeEventListener(a,l,n),u=bt})},{immediate:!0,flush:"post"}),k=()=>{f(),u()};return pa(k),k},ha=(t,a,l,n={})=>{const{window:u=fa,event:f="pointerdown"}=n;return u?ya(u,f,p=>{const w=le(t),C=le(a);!w||!C||w===p.target||p.composedPath().includes(w)||p.composedPath().includes(C)||l(p)},{passive:!0}):void 0},ga=e.defineComponent({__name:"VueDatePicker",props:{...zn},emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear","invalid-select"],setup(t,{expose:a,emit:l}){const n=t,u=e.useSlots(),f=e.ref(!1),k=e.toRef(n,"modelValue"),p=e.ref(null),w=e.ref(null),C=e.toRef(n,"teleportCenter");e.provide(ct,n.autoApply);const A=e.computed(()=>n.formatLocale);e.provide(vt,A),e.provide(Kt,e.toRef(n,"textInput")),e.provide(ke,e.toRef(n,"arrowNavigation")),e.onMounted(()=>{z(n.modelValue),n.inline||(window.addEventListener("scroll",g),window.addEventListener("resize",V)),n.inline&&(f.value=!0)}),e.onUnmounted(()=>{n.inline||(window.removeEventListener("scroll",g),window.removeEventListener("resize",V))});const N=$e(u,"all",n.presetRanges),O=$e(u,"input");e.watch(k,()=>{z(k.value)},{deep:!0});const{openOnTop:E,menuPosition:v,setMenuPosition:P,recalculatePosition:J,setInitialPosition:r}=ma(n.position,n.altPosition,n.autoPosition,p,w,n.inline,n.offset,C,l),{internalModelValue:i,inputValue:_,parseExternalModelValue:z,emitModelValue:$,checkBeforeEmit:I,formatInputValue:W}=ua(n.format,n.timePicker,n.monthPicker,n.range,n.partialRange,n.is24,n.enableTimePicker,n.enableSeconds,A,n.multiDates,n.utc,n.weekPicker,n.yearPicker,n.textInputOptions,n.modelType,n.modelAuto,l),{clearArrowNav:Z}=we(),{setMenuFocused:G,setShiftKey:L}=tn(),M=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),B=e.computed(()=>Zt(n.format)?n.format:Et(null,n.is24,n.enableSeconds,n.monthPicker,n.timePicker,n.weekPicker,n.yearPicker,n.enableTimePicker)),c=e.computed(()=>n.previewFormat?n.previewFormat:Zt(B.value)?B.value:n.format),y=e.computed(()=>typeof n.transitions=="boolean"?n.transitions?Qt({}):!1:Qt(n.transitions));e.provide(Ge,y);const h=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),D=e.computed(()=>Object.assign(cl(),n.textInputOptions)),H=e.computed(()=>fl(n.ariaLabels));e.provide(ge,H);const Y=e.computed(()=>dl(n.filters)),X=e.computed(()=>{const m=F=>{const te={hours:s.getHours(new Date),minutes:s.getMinutes(new Date),seconds:s.getSeconds(new Date)};return Object.assign(te,F)};return n.range?n.startTime&&Array.isArray(n.startTime)?[m(n.startTime[0]),m(n.startTime[1])]:null:n.startTime&&!Array.isArray(n.startTime)?m(n.startTime):null}),Q=e.computed(()=>n.multiCalendars===null?0:typeof n.multiCalendars=="boolean"?n.multiCalendars?2:0:+n.multiCalendars>=2?+n.multiCalendars:2),g=()=>{f.value&&(n.closeOnScroll?se():n.autoPosition?P():window.removeEventListener("scroll",g))},V=()=>{f.value&&P()},T=()=>{!n.disabled&&!n.readonly&&(r(),f.value=!0,e.nextTick().then(()=>{P(),f.value&&l("open")}),f.value||Ve(),z(n.modelValue))},ue=()=>{_.value="",Ve(),l("update:modelValue",null),l("cleared"),se()},ye=()=>{const{validate:m}=Yt(n.minDate,n.maxDate,n.disabledDates,n.allowedDates,Y.value,n.disabledWeekDays,n.yearRange),F=i.value;return!F||!Array.isArray(F)&&m(F)?!0:Array.isArray(F)?F.length===2&&m(F[0])&&m(F[1])?!0:!!m(F[0]):!1},he=()=>{I()&&ye()?($(),se()):l("invalid-select",i.value)},Ce=m=>{$(),n.closeOnAutoApply&&!m&&se()},be=(m=!1)=>{n.autoApply&&(!n.enableTimePicker||n.monthPicker||n.yearPicker||n.ignoreTimeValidation?!0:st(i.value,n.maxTime,n.minTime,n.maxDate,n.minDate))&&ye()&&(n.range&&Array.isArray(i.value)?(n.partialRange||i.value.length===2)&&Ce(m):Ce(m))},Ve=()=>{i.value=null},se=()=>{n.inline||(f.value&&(f.value=!1,G(!1),L(!1),Z(),l("closed"),r(),_.value&&z(k.value)),Ve(),w.value&&w.value.focusInput())},_e=(m,F)=>{if(!m){i.value=null;return}i.value=m,F&&(he(),l("textSubmit"))},Ke=()=>{n.autoApply&&st(i.value,n.maxTime,n.minTime,n.maxDate,n.minDate)&&$()},ve=()=>f.value?se():T(),Be=m=>{i.value=m};return ha(p,w,se),a({closeMenu:se,selectDate:he,clearValue:ue,openMenu:T,onScroll:g,formatInputValue:W,updateInternalModelValue:Be}),(m,F)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(M))},[e.createVNode(qn,e.mergeProps({ref_key:"inputRef",ref:w},{placeholder:m.placeholder,hideInputIcon:m.hideInputIcon,readonly:m.readonly,disabled:m.disabled,inputClassName:m.inputClassName,clearable:m.clearable,state:m.state,inline:m.inline,inlineWithInput:m.inlineWithInput,textInput:m.textInput,textInputOptions:e.unref(D),range:m.range,isMenuOpen:f.value,pattern:e.unref(B),autoApply:m.autoApply,uid:m.uid,required:m.required,name:m.name,autocomplete:m.autocomplete},{"input-value":e.unref(_),"onUpdate:input-value":F[0]||(F[0]=te=>e.isRef(_)?_.value=te:null),onClear:ue,onOpen:T,onSetInputDate:_e,onSetEmptyDate:e.unref($),onSelectDate:he,onToggle:ve,onClose:se,onFocus:F[1]||(F[1]=te=>m.$emit("focus")),onBlur:F[2]||(F[2]=te=>m.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(O),(te,He)=>({name:te,fn:e.withCtx(Ne=>[e.renderSlot(m.$slots,te,e.normalizeProps(e.guardReactiveProps(Ne)))])}))]),1040,["input-value","onSetEmptyDate"]),f.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:m.teleport,disabled:m.inline},[f.value?(e.openBlock(),e.createBlock(da,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:p,class:e.unref(h),style:e.unref(v)},{weekNumbers:m.weekNumbers,weekStart:m.weekStart,disableMonthYearSelect:m.disableMonthYearSelect,menuClassName:m.menuClassName,calendarClassName:m.calendarClassName,yearRange:m.yearRange,range:m.range,multiCalendars:e.unref(Q),multiCalendarsSolo:m.multiCalendarsSolo,multiStatic:m.multiStatic,calendarCellClassName:m.calendarCellClassName,enableTimePicker:m.enableTimePicker,is24:m.is24,hoursIncrement:m.hoursIncrement,minutesIncrement:m.minutesIncrement,hoursGridIncrement:m.hoursGridIncrement,minutesGridIncrement:m.minutesGridIncrement,minDate:m.minDate,maxDate:m.maxDate,autoApply:m.autoApply,selectText:m.selectText,cancelText:m.cancelText,previewFormat:e.unref(c),locale:m.locale,weekNumName:m.weekNumName,disabledDates:m.disabledDates,filters:e.unref(Y),minTime:m.minTime,maxTime:m.maxTime,inline:m.inline,openOnTop:e.unref(E),monthPicker:m.monthPicker,timePicker:m.timePicker,monthNameFormat:m.monthNameFormat,startDate:m.startDate,startTime:e.unref(X),monthYearComponent:m.monthYearComponent,timePickerComponent:m.timePickerComponent,actionRowComponent:m.actionRowComponent,customProps:m.customProps,hideOffsetDates:m.hideOffsetDates,autoRange:m.autoRange,noToday:m.noToday,noHoursOverlay:m.noHoursOverlay,noMinutesOverlay:m.noMinutesOverlay,disabledWeekDays:m.disabledWeekDays,allowedDates:m.allowedDates,showNowButton:m.showNowButton,nowButtonLabel:m.nowButtonLabel,monthChangeOnScroll:m.monthChangeOnScroll,markers:m.markers,uid:m.uid,modeHeight:m.modeHeight,enableSeconds:m.enableSeconds,secondsIncrement:m.secondsIncrement,secondsGridIncrement:m.secondsGridIncrement,noSecondsOverlay:m.noSecondsOverlay,escClose:m.escClose,spaceConfirm:m.spaceConfirm,monthChangeOnArrows:m.monthChangeOnArrows,textInput:m.textInput,disabled:m.disabled,readonly:m.readonly,multiDates:m.multiDates,presetRanges:m.presetRanges,flow:m.flow,preventMinMaxNavigation:m.preventMinMaxNavigation,minRange:m.minRange,maxRange:m.maxRange,fixedStart:m.fixedStart,fixedEnd:m.fixedEnd,multiDatesLimit:m.multiDatesLimit,reverseYears:m.reverseYears,keepActionRow:m.keepActionRow,weekPicker:m.weekPicker,noSwipe:m.noSwipe,vertical:m.vertical,arrowNavigation:m.arrowNavigation,yearPicker:m.yearPicker,disableTimeRangeValidation:m.disableTimeRangeValidation,dayNames:m.dayNames,modelAuto:m.modelAuto,highlight:m.highlight,highlightWeekDays:m.highlightWeekDays,highlightDisabledDays:m.highlightDisabledDays,partialRange:m.partialRange,teleportCenter:m.teleportCenter,ignoreTimeValidation:m.ignoreTimeValidation,dayClass:m.dayClass},{internalModelValue:e.unref(i),"onUpdate:internalModelValue":F[3]||(F[3]=te=>e.isRef(i)?i.value=te:null),onClosePicker:se,onSelectDate:he,onDpOpen:e.unref(J),onAutoApply:be,onTimeUpdate:Ke,onFlowStep:F[4]||(F[4]=te=>m.$emit("flow-step",te)),onUpdateMonthYear:F[5]||(F[5]=te=>m.$emit("updateMonthYear",te)),onInvalidSelect:F[6]||(F[6]=te=>m.$emit("invalid-select",e.unref(i)))}),e.createSlots({_:2},[e.renderList(e.unref(N),(te,He)=>({name:te,fn:e.withCtx(Ne=>[e.renderSlot(m.$slots,te,e.normalizeProps(e.guardReactiveProps({...Ne})))])}))]),1040,["class","style","internalModelValue","onDpOpen"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}}),Bt=(()=>{const t=ga;return t.install=a=>{a.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,a])=>{t!=="default"&&(Bt[t]=a)}),Bt});
