{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport TheLogin from \"./pages/TheLogin\";\nimport TheRegistration from \"./pages/TheRegistration.vue\";\nimport TheTasks from \"./pages/TheTasks.vue\";\nimport { useAuthStore } from \"../src/components/store/userAuth.js\";\nconst authStore = useAuthStore();\n\nconst ifAuthenticated = (to, from, next) => {\n  if (JSON.parse(localStorage.getItem(\"user\")) && !authStore.errorLogIn) {\n    next();\n    return;\n  } else {\n    next(\"/auth\");\n  }\n};\n\nconst routes = [{\n  path: \"/auth\",\n  name: \"Authorization\",\n  component: TheLogin\n}, {\n  path: \"/register\",\n  name: \"Registration\",\n  component: TheRegistration\n}, {\n  path: \"/tasks\",\n  name: \"Tasks\",\n  component: TheTasks // beforeEnter: ifAuthenticated,\n\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","TheLogin","TheRegistration","TheTasks","useAuthStore","authStore","ifAuthenticated","to","from","next","JSON","parse","localStorage","getItem","errorLogIn","routes","path","name","component","router","history"],"sources":["C:/Users/notar/Desktop/Udemy/todo_front/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\r\nimport TheLogin from \"./pages/TheLogin\";\r\nimport TheRegistration from \"./pages/TheRegistration.vue\";\r\nimport TheTasks from \"./pages/TheTasks.vue\";\r\nimport { useAuthStore } from \"../src/components/store/userAuth.js\";\r\n\r\nconst authStore = useAuthStore();\r\n\r\nconst ifAuthenticated = (to, from, next) => {\r\n  if (JSON.parse(localStorage.getItem(\"user\")) && !authStore.errorLogIn) {\r\n    next();\r\n    return;\r\n  } else {\r\n    next(\"/auth\");\r\n  }\r\n};\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/auth\",\r\n    name: \"Authorization\",\r\n    component: TheLogin,\r\n  },\r\n  {\r\n    path: \"/register\",\r\n    name: \"Registration\",\r\n    component: TheRegistration,\r\n  },\r\n\r\n  {\r\n    path: \"/tasks\",\r\n    name: \"Tasks\",\r\n    component: TheTasks,\r\n    // beforeEnter: ifAuthenticated,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,YAAT,QAA6B,qCAA7B;AAEA,MAAMC,SAAS,GAAGD,YAAY,EAA9B;;AAEA,MAAME,eAAe,GAAG,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EAC1C,IAAIC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,CAACR,SAAS,CAACS,UAA3D,EAAuE;IACrEL,IAAI;IACJ;EACD,CAHD,MAGO;IACLA,IAAI,CAAC,OAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMM,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,OADR;EAEEC,IAAI,EAAE,eAFR;EAGEC,SAAS,EAAEjB;AAHb,CADa,EAMb;EACEe,IAAI,EAAE,WADR;EAEEC,IAAI,EAAE,cAFR;EAGEC,SAAS,EAAEhB;AAHb,CANa,EAYb;EACEc,IAAI,EAAE,QADR;EAEEC,IAAI,EAAE,OAFR;EAGEC,SAAS,EAAEf,QAHb,CAIE;;AAJF,CAZa,CAAf;AAoBA,MAAMgB,MAAM,GAAGpB,YAAY,CAAC;EAC1BqB,OAAO,EAAEpB,gBAAgB,EADC;EAE1Be;AAF0B,CAAD,CAA3B;AAKA,eAAeI,MAAf"},"metadata":{},"sourceType":"module"}