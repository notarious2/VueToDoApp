{"ast":null,"code":"import { createApp } from \"vue\";\nimport { createRouter, createWebHistory } from \"vue-router\";\nimport App from \"./App.vue\";\nimport TheLogin from \"./pages/TheLogin.vue\";\nimport TheRegistration from \"./pages/TheRegistration.vue\";\nimport TheTasks from \"./pages/TheTasks.vue\";\nimport PostIt from \"./components/layout/PostIt.vue\";\nimport TheHeader from \"../src/components/layout/TheHeader.vue\";\nimport TheFooter from \"../src/components/layout/TheFooter.vue\";\nimport { createPinia } from \"pinia\";\nimport { useAuthStore } from \"../src/components/store/userAuth.js\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nlibrary.add(fab, fas, far);\n\nconst ifAuthenticated = (to, from, next) => {\n  if (JSON.parse(localStorage.getItem(\"user\")) && !authStore.errorLogIn) {\n    next();\n    return;\n  } else {\n    next(\"/auth\");\n  }\n};\n\nconst app = createApp(App);\nconst pinia = createPinia();\nconst routes = [{\n  path: \"/auth\",\n  name: \"Authorization\",\n  component: TheLogin\n}, {\n  path: \"/register\",\n  name: \"Registration\",\n  component: TheRegistration\n}, {\n  path: \"/tasks\",\n  name: \"Tasks\",\n  component: TheTasks,\n  beforeEnter: ifAuthenticated\n}, {\n  path: \"/post\",\n  name: \"PostIt\",\n  component: PostIt\n}];\nexport const router = createRouter({\n  history: createWebHistory(),\n  routes\n}); // Router has to be used as a plugin in pinia\n// pinia.use(({ store }) => {\n//   store.router = markRaw(router);\n// });\n\napp.component(\"font-awesome-icon\", FontAwesomeIcon);\napp.component(\"the-header\", TheHeader);\napp.component(\"the-footer\", TheFooter);\napp.use(pinia);\napp.use(router);\nconst authStore = useAuthStore();\napp.mount(\"#app\");","map":{"version":3,"names":["createApp","createRouter","createWebHistory","App","TheLogin","TheRegistration","TheTasks","PostIt","TheHeader","TheFooter","createPinia","useAuthStore","library","FontAwesomeIcon","fas","fab","far","add","ifAuthenticated","to","from","next","JSON","parse","localStorage","getItem","authStore","errorLogIn","app","pinia","routes","path","name","component","beforeEnter","router","history","use","mount"],"sources":["C:/Users/notar/Desktop/Udemy/todo_front/src/main.js"],"sourcesContent":["import { createApp } from \"vue\";\nimport { createRouter, createWebHistory } from \"vue-router\";\nimport App from \"./App.vue\";\nimport TheLogin from \"./pages/TheLogin.vue\";\nimport TheRegistration from \"./pages/TheRegistration.vue\";\nimport TheTasks from \"./pages/TheTasks.vue\";\nimport PostIt from \"./components/layout/PostIt.vue\";\n\nimport TheHeader from \"../src/components/layout/TheHeader.vue\";\nimport TheFooter from \"../src/components/layout/TheFooter.vue\";\n\nimport { createPinia } from \"pinia\";\nimport { useAuthStore } from \"../src/components/store/userAuth.js\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\n\nlibrary.add(fab, fas, far);\n\nconst ifAuthenticated = (to, from, next) => {\n  if (JSON.parse(localStorage.getItem(\"user\")) && !authStore.errorLogIn) {\n    next();\n    return;\n  } else {\n    next(\"/auth\");\n  }\n};\n\nconst app = createApp(App);\n\nconst pinia = createPinia();\n\nconst routes = [\n  {\n    path: \"/auth\",\n    name: \"Authorization\",\n    component: TheLogin,\n  },\n  {\n    path: \"/register\",\n    name: \"Registration\",\n    component: TheRegistration,\n  },\n\n  {\n    path: \"/tasks\",\n    name: \"Tasks\",\n    component: TheTasks,\n    beforeEnter: ifAuthenticated,\n  },\n  {\n    path: \"/post\",\n    name: \"PostIt\",\n    component: PostIt,\n  },\n];\n\nexport const router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\n// Router has to be used as a plugin in pinia\n// pinia.use(({ store }) => {\n//   store.router = markRaw(router);\n// });\n\napp.component(\"font-awesome-icon\", FontAwesomeIcon);\napp.component(\"the-header\", TheHeader);\napp.component(\"the-footer\", TheFooter);\n\napp.use(pinia);\napp.use(router);\nconst authStore = useAuthStore();\n\napp.mount(\"#app\");\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,KAA1B;AACA,SAASC,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AAEA,OAAOC,SAAP,MAAsB,wCAAtB;AACA,OAAOC,SAAP,MAAsB,wCAAtB;AAEA,SAASC,WAAT,QAA4B,OAA5B;AACA,SAASC,YAAT,QAA6B,qCAA7B;AAEA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SAASC,eAAT,QAAgC,8BAAhC;AACA,SAASC,GAAT,QAAoB,mCAApB;AACA,SAASC,GAAT,QAAoB,oCAApB;AACA,SAASC,GAAT,QAAoB,qCAApB;AAEAJ,OAAO,CAACK,GAAR,CAAYF,GAAZ,EAAiBD,GAAjB,EAAsBE,GAAtB;;AAEA,MAAME,eAAe,GAAG,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EAC1C,IAAIC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,CAACC,SAAS,CAACC,UAA3D,EAAuE;IACrEN,IAAI;IACJ;EACD,CAHD,MAGO;IACLA,IAAI,CAAC,OAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMO,GAAG,GAAG5B,SAAS,CAACG,GAAD,CAArB;AAEA,MAAM0B,KAAK,GAAGnB,WAAW,EAAzB;AAEA,MAAMoB,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,OADR;EAEEC,IAAI,EAAE,eAFR;EAGEC,SAAS,EAAE7B;AAHb,CADa,EAMb;EACE2B,IAAI,EAAE,WADR;EAEEC,IAAI,EAAE,cAFR;EAGEC,SAAS,EAAE5B;AAHb,CANa,EAYb;EACE0B,IAAI,EAAE,QADR;EAEEC,IAAI,EAAE,OAFR;EAGEC,SAAS,EAAE3B,QAHb;EAIE4B,WAAW,EAAEhB;AAJf,CAZa,EAkBb;EACEa,IAAI,EAAE,OADR;EAEEC,IAAI,EAAE,QAFR;EAGEC,SAAS,EAAE1B;AAHb,CAlBa,CAAf;AAyBA,OAAO,MAAM4B,MAAM,GAAGlC,YAAY,CAAC;EACjCmC,OAAO,EAAElC,gBAAgB,EADQ;EAEjC4B;AAFiC,CAAD,CAA3B,C,CAKP;AACA;AACA;AACA;;AAEAF,GAAG,CAACK,SAAJ,CAAc,mBAAd,EAAmCpB,eAAnC;AACAe,GAAG,CAACK,SAAJ,CAAc,YAAd,EAA4BzB,SAA5B;AACAoB,GAAG,CAACK,SAAJ,CAAc,YAAd,EAA4BxB,SAA5B;AAEAmB,GAAG,CAACS,GAAJ,CAAQR,KAAR;AACAD,GAAG,CAACS,GAAJ,CAAQF,MAAR;AACA,MAAMT,SAAS,GAAGf,YAAY,EAA9B;AAEAiB,GAAG,CAACU,KAAJ,CAAU,MAAV"},"metadata":{},"sourceType":"module"}