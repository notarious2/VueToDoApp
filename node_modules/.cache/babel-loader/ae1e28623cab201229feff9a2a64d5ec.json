{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport TheLogin from \"./pages/TheLogin\";\nimport TheRegistration from \"./pages/TheRegistration.vue\";\nimport TheTasks from \"./pages/TheTasks.vue\";\nimport TheHome from \"./pages/TheHome.vaue\";\nimport { useAuthStore } from \"../src/components/store/userAuth.js\";\nconst routes = [{\n  path: \"/\",\n  name: \"Home\",\n  component: TheHome\n}, {\n  path: \"/auth\",\n  name: \"Authorization\",\n  component: TheLogin\n}, {\n  path: \"/register\",\n  name: \"Registration\",\n  component: TheRegistration\n}, {\n  path: \"/tasks\",\n  name: \"Tasks\",\n  component: TheTasks,\n  // beforeEnter: ifAuthenticated,\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach(async (to, from, next) => {\n  const authStore = useAuthStore();\n\n  if (to.meta.requiresAuth && !authStore.user && !authStore.isAuthenticated) {\n    next(\"/auth\");\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","TheLogin","TheRegistration","TheTasks","TheHome","useAuthStore","routes","path","name","component","meta","requiresAuth","router","history","beforeEach","to","from","next","authStore","user","isAuthenticated"],"sources":["C:/Users/notar/Desktop/Udemy/todo_front/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\r\nimport TheLogin from \"./pages/TheLogin\";\r\nimport TheRegistration from \"./pages/TheRegistration.vue\";\r\nimport TheTasks from \"./pages/TheTasks.vue\";\r\nimport TheHome from \"./pages/TheHome.vaue\";\r\n\r\nimport { useAuthStore } from \"../src/components/store/userAuth.js\";\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: TheHome,\r\n  },\r\n  {\r\n    path: \"/auth\",\r\n    name: \"Authorization\",\r\n    component: TheLogin,\r\n  },\r\n  {\r\n    path: \"/register\",\r\n    name: \"Registration\",\r\n    component: TheRegistration,\r\n  },\r\n\r\n  {\r\n    path: \"/tasks\",\r\n    name: \"Tasks\",\r\n    component: TheTasks,\r\n    // beforeEnter: ifAuthenticated,\r\n    meta: { requiresAuth: true },\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  const authStore = useAuthStore();\r\n  if (to.meta.requiresAuth && !authStore.user && !authStore.isAuthenticated) {\r\n    next(\"/auth\");\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,SAASC,YAAT,QAA6B,qCAA7B;AAEA,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GADR;EAEEC,IAAI,EAAE,MAFR;EAGEC,SAAS,EAAEL;AAHb,CADa,EAMb;EACEG,IAAI,EAAE,OADR;EAEEC,IAAI,EAAE,eAFR;EAGEC,SAAS,EAAER;AAHb,CANa,EAWb;EACEM,IAAI,EAAE,WADR;EAEEC,IAAI,EAAE,cAFR;EAGEC,SAAS,EAAEP;AAHb,CAXa,EAiBb;EACEK,IAAI,EAAE,QADR;EAEEC,IAAI,EAAE,OAFR;EAGEC,SAAS,EAAEN,QAHb;EAIE;EACAO,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAhB;AALR,CAjBa,CAAf;AA0BA,MAAMC,MAAM,GAAGb,YAAY,CAAC;EAC1Bc,OAAO,EAAEb,gBAAgB,EADC;EAE1BM;AAF0B,CAAD,CAA3B;AAKAM,MAAM,CAACE,UAAP,CAAkB,OAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB,KAA0B;EAC1C,MAAMC,SAAS,GAAGb,YAAY,EAA9B;;EACA,IAAIU,EAAE,CAACL,IAAH,CAAQC,YAAR,IAAwB,CAACO,SAAS,CAACC,IAAnC,IAA2C,CAACD,SAAS,CAACE,eAA1D,EAA2E;IACzEH,IAAI,CAAC,OAAD,CAAJ;EACD,CAFD,MAEO;IACLA,IAAI;EACL;AACF,CAPD;AASA,eAAeL,MAAf"},"metadata":{},"sourceType":"module"}